import s,{useCallback as p,useEffect as _,useMemo as T,useState as j}from"../../../../__snowpack__/pkg/react.js";import{AsideSection as k}from"../../Aside.js";import v from"../../Field.js";import w from"./Indicator.js";import h from"../../Tab.js";import F from"../../../../__snowpack__/pkg/styled-components.js";import{useTranslation as R}from"../../../../__snowpack__/pkg/react-i18next.js";const V=F(h)`
    font-weight: 700;
`,A=({indicators:l,onChange:a})=>{const{t:u}=R(["hyper-parameter","common"]),E=T(()=>["hparams","metrics"].map(e=>({value:e,label:u(`hyper-parameter:data-type-value.${e}`)})),[u]),[m,d]=j("hparams"),b=T(()=>l.filter(e=>e.group===m),[m,l]),[o,r]=j(l);_(()=>r(l),[l]);const n=p((e,t)=>{r(c=>{const y=c.findIndex(g=>g.name===e.name&&g.group===e.group),f=[...c];return y>=0&&Object.assign(f[y],t),f})},[]),x=p((e,t)=>n(e,{selected:t}),[n]),I=p((e,t)=>{switch(e.type){case"numeric":case"string":return n(e,{selectedValues:t});case"continuous":return n(e,t)}},[n]);return _(()=>{a==null||a(o)},[o,a]),s.createElement("div",null,s.createElement(k,null,s.createElement(v,null,s.createElement(V,{list:E,value:m,onChange:d,appearance:"underscore"})),b.map(e=>s.createElement(k,{key:e.group+e.name},s.createElement(v,null,s.createElement(w,{name:e.name,type:e.type,selected:e.selected,values:e.type==="continuous"?void 0:e.values,selectedValues:e.type==="continuous"?void 0:e.selectedValues,min:e.type==="continuous"?e.min:void 0,max:e.type==="continuous"?e.max:void 0,onToggle:t=>x(e,t),onChange:t=>I(e,t)}))))))};export default A;
