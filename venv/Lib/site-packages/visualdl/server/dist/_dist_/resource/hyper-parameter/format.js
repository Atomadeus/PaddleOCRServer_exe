import*as l from"../../../__snowpack__/pkg/d3.js";export const COLOR_MAP=["#2932E1","#FE4A3B","#FFAA00"];export function format(n,r){return n.map(e=>r.reduce((u,{name:s,group:t,type:a})=>{switch(a){case"string":u[t][s]=e[t][s]+"";break;case"numeric":case"continuous":u[t][s]=Number.parseFloat(e[t][s]+"")+"";break}return u},{name:e.name,hparams:{},metrics:{}}))}export function formatIndicators(n,r){return n.map(e=>{switch(e.type){case"numeric":case"string":return{...e,group:r,selected:!0,selectedValues:[...e.values]};case"continuous":return{...e,group:r,selected:!0,min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};default:return null}})}export function getColorScale(n,r){let e;if(n==null)e=[0,r.length-1];else{if(n.type!=="continuous")throw new Error("cannot color lines by `"+n.name+"`");{const t=r.map(a=>+a[n.group][n.name]);e=l.extent(t)}}const u=e[0],s=e.pop();for(let t=1;t<COLOR_MAP.length-1;t++)e.push(u+(s-u)/(COLOR_MAP.length-1)*t);return e.push(s),l.scaleLinear().domain(e).range(COLOR_MAP).interpolate(l.interpolateRgb)}
