import h from"../components/ChartPage.js";import j,{Loader as E}from"../components/HistogramPage/HistogramChart.js";import{Modes as R,modes as C}from"../resource/histogram/index.js";import e,{useCallback as _,useMemo as k,useState as c}from"../../__snowpack__/pkg/react.js";import{AsideSection as T}from"../components/Aside.js";import F from"../components/Content.js";import A from"../components/Error.js";import H from"../components/Field.js";import x from"../components/RadioButton.js";import M from"../components/RadioGroup.js";import P from"../components/RunAside.js";import S from"../components/Title.js";import b from"../hooks/useTagFilter.js";import{useTranslation as w}from"../../__snowpack__/pkg/react-i18next.js";const B=()=>{const{t:n}=w(["histogram","common"]),[t,l]=c(!0),{runs:s,tagsWithSingleRun:p,selectedRuns:a,onChangeRuns:i,loading:r}=b("histogram",t),[m,g]=c(R.Offset),u=k(()=>e.createElement(P,{runs:s,selectedRuns:a,onChangeRuns:i,running:t,onToggleRunning:l,loading:r},e.createElement(T,null,e.createElement(H,{label:n("histogram:mode")},e.createElement(M,{value:m,onChange:g},C.map(o=>e.createElement(x,{key:o,value:o},n(`histogram:mode-value.${o}`))))))),[r,m,i,t,s,a,n]),d=_(({label:o,run:f})=>e.createElement(j,{run:f,tag:o,mode:m,running:t}),[t,m]);return e.createElement(e.Fragment,null,e.createElement(S,null,n("common:histogram")),e.createElement(F,{aside:u},!r&&!s.length?e.createElement(A,null):e.createElement(h,{items:p,renderChart:d,loader:e.createElement(E,null),loading:r})))};export default B;
