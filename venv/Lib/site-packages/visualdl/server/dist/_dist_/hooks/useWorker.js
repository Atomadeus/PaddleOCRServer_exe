import*as n from"../../__snowpack__/env.js";import{useEffect as c,useState as k}from"../../__snowpack__/pkg/react.js";import u from"../worker/index.js";const R=n.SNOWPACK_PUBLIC_BASE_URI,i=(o,_)=>{const[s,r]=k({});return c(()=>{r({});const e=new u(`${R}/_dist_/worker/${o}.js`);return e.on("INITIALIZED",()=>{r({worker:e}),e.emit("RUN",_)}),e.on("RESULT",t=>r({data:t,worker:e})),e.on("ERROR",t=>r({error:t,worker:e})),()=>{e.terminate()}},[o,_]),s};export default i;
