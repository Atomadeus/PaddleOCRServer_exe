import{c as V,g as Y}from"./common/_commonjsHelpers-b3efd043.js";import{c as Z}from"./common/index-3928d36b.js";import{r as q}from"./common/index-78959ebc.js";import{p as ee}from"./common/index-55e7d60e.js";import{i as te}from"./common/ResizeObserver.es-fd8ba902.js";var O=V(function(N,p){Object.defineProperty(p,"__esModule",{value:!0}),p.capitalize=x,p.clamp=g;function x(u){return u.charAt(0).toUpperCase()+u.substr(1)}function g(u,v,C){return Math.min(Math.max(u,v),C)}}),ae=V(function(N,p){Object.defineProperty(p,"__esModule",{value:!0});var x=function(){function i(n,h){for(var m=0;m<h.length;m++){var e=h[m];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,h,m){return h&&i(n.prototype,h),m&&i(n,m),n}}(),g=w(Z),u=w(q),v=w(ee),C=w(te);function w(i){return i&&i.__esModule?i:{default:i}}function z(i,n,h){return n in i?Object.defineProperty(i,n,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[n]=h,i}function A(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function B(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:i}function H(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}var _={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},L=function(i){H(n,i);function n(h,m){A(this,n);var e=B(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,h,m));return e.handleFormat=function(a){var t=e.props.format;return t?t(a):a},e.handleUpdate=function(){if(!!e.slider){var a=e.props.orientation,t=(0,O.capitalize)(_.orientation[a].dimension),r=e.slider["offset"+t],o=e.handle["offset"+t];e.setState({limit:r-o,grab:o/2})}},e.handleStart=function(a){var t=e.props.onChangeStart;document.addEventListener("mousemove",e.handleDrag),document.addEventListener("mouseup",e.handleEnd),e.setState({active:!0},function(){t&&t(a)})},e.handleDrag=function(a){a.stopPropagation();var t=e.props.onChange,r=a.target,o=r.className,l=r.classList,d=r.dataset;if(!(!t||o==="rangeslider__labels")){var s=e.position(a);l&&l.contains("rangeslider__label-item")&&d.value&&(s=parseFloat(d.value)),t&&t(s,a)}},e.handleEnd=function(a){var t=e.props.onChangeComplete;e.setState({active:!1},function(){t&&t(a)}),document.removeEventListener("mousemove",e.handleDrag),document.removeEventListener("mouseup",e.handleEnd)},e.handleKeyDown=function(a){a.preventDefault();var t=a.keyCode,r=e.props,o=r.value,l=r.min,d=r.max,s=r.step,c=r.onChange,f=void 0;switch(t){case 38:case 39:f=o+s>d?d:o+s,c&&c(f,a);break;case 37:case 40:f=o-s<l?l:o-s,c&&c(f,a);break}},e.getPositionFromValue=function(a){var t=e.state.limit,r=e.props,o=r.min,l=r.max,d=l-o,s=a-o,c=s/d,f=Math.round(c*t);return f},e.getValueFromPosition=function(a){var t=e.state.limit,r=e.props,o=r.orientation,l=r.min,d=r.max,s=r.step,c=(0,O.clamp)(a,0,t)/(t||1),f=s*Math.round(c*(d-l)/s),E=o==="horizontal"?f+l:d-f;return(0,O.clamp)(E,l,d)},e.position=function(a){var t=e.state.grab,r=e.props,o=r.orientation,l=r.reverse,d=e.slider,s=_.orientation[o].coordinate,c=l?_.orientation[o].reverseDirection:_.orientation[o].direction,f="client"+(0,O.capitalize)(s),E=a.touches?a.touches[0][f]:a[f],D=d.getBoundingClientRect()[c],P=l?D-E-t:E-D-t,T=e.getValueFromPosition(P);return T},e.coordinates=function(a){var t=e.state,r=t.limit,o=t.grab,l=e.props.orientation,d=e.getValueFromPosition(a),s=e.getPositionFromValue(d),c=l==="horizontal"?s+o:s,f=l==="horizontal"?c:r-c;return{fill:f,handle:c,label:c}},e.renderLabels=function(a){return u.default.createElement("ul",{ref:function(r){e.labels=r},className:(0,g.default)("rangeslider__labels")},a)},e.state={active:!1,limit:0,grab:0},e}return x(n,[{key:"componentDidMount",value:function(){this.handleUpdate();var m=new C.default(this.handleUpdate);m.observe(this.slider)}},{key:"render",value:function(){var m=this,e=this.props,a=e.value,t=e.orientation,r=e.className,o=e.tooltip,l=e.reverse,d=e.labels,s=e.min,c=e.max,f=e.handleLabel,E=this.state.active,D=_.orientation[t].dimension,P=l?_.orientation[t].reverseDirection:_.orientation[t].direction,T=this.getPositionFromValue(a),R=this.coordinates(T),I=z({},D,R.fill+"px"),G=z({},P,R.handle+"px"),J=o&&E,k=[],S=Object.keys(d);if(S.length>0){S=S.sort(function(y,b){return l?y-b:b-y});var j=!0,$=!1,U=void 0;try{for(var F=S[Symbol.iterator](),K;!(j=(K=F.next()).done);j=!0){var M=K.value,Q=this.getPositionFromValue(M),W=this.coordinates(Q),X=z({},P,W.label+"px");k.push(u.default.createElement("li",{key:M,className:(0,g.default)("rangeslider__label-item"),"data-value":M,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:X},this.props.labels[M]))}}catch(y){$=!0,U=y}finally{try{!j&&F.return&&F.return()}finally{if($)throw U}}}return u.default.createElement("div",{ref:function(b){m.slider=b},className:(0,g.default)("rangeslider","rangeslider-"+t,{"rangeslider-reverse":l},r),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,"aria-valuemin":s,"aria-valuemax":c,"aria-valuenow":a,"aria-orientation":t},u.default.createElement("div",{className:"rangeslider__fill",style:I}),u.default.createElement("div",{ref:function(b){m.handle=b},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:G,tabIndex:0},J?u.default.createElement("div",{ref:function(b){m.tooltip=b},className:"rangeslider__handle-tooltip"},u.default.createElement("span",null,this.handleFormat(a))):null,u.default.createElement("div",{className:"rangeslider__handle-label"},f)),d?this.renderLabels(k):null)}}]),n}(q.Component);L.propTypes={min:v.default.number,max:v.default.number,step:v.default.number,value:v.default.number,orientation:v.default.string,tooltip:v.default.bool,reverse:v.default.bool,labels:v.default.object,handleLabel:v.default.string,format:v.default.func,onChangeStart:v.default.func,onChange:v.default.func,onChangeComplete:v.default.func},L.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},p.default=L}),ne=V(function(N,p){Object.defineProperty(p,"__esModule",{value:!0});var x=g(ae);function g(u){return u&&u.__esModule?u:{default:u}}p.default=x.default}),re=Y(ne);export default re;
