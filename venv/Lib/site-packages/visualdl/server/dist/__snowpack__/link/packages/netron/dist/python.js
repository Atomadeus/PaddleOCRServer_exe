var python=python||{};python.Parser=class{constructor(e,t){this._tokenizer=new python.Tokenizer(e,t),python.Parser._precedence||(python.Parser._precedence={or:2,and:3,not:4,in:5,instanceof:5,is:5,"<":5,">":5,"<=":5,">=":5,"<>":5,"==":5,"!=":5,"|":6,"^":7,"&":8,"<<":9,">>":9,"+":10,"-":10,"*":11,"@":11,"/":11,"//":11,"%":11,"~":13,"**":14})}parse(){const e=this._node("program");for(e.body=[];!this._tokenizer.match("eof");){const t=this._parseStatement();if(t)e.body.push(t);else if(!(this._tokenizer.eat("\n")||this._tokenizer.eat(";")||"eof"==this._tokenizer.peek().type||this._tokenizer.eat("indent")&&"eof"==this._tokenizer.peek().type))throw new python.Error("Unknown statement"+this._tokenizer.location())}return e}_parseSuite(){const e=this._node("block");e.statements=[];let t=null;if(this._tokenizer.eat("\n")){if(this._tokenizer.eat("indent"))for(;!this._tokenizer.eat("eof")&&!this._tokenizer.eat("dedent");)if(!this._tokenizer.eat(";"))if(t=this._parseStatement(),t)e.statements.push(t);else if(!this._tokenizer.eat("\n")&&!this._tokenizer.match("dedent")&&!this._tokenizer.match("eof"))throw new python.Error("Empty statement"+this._tokenizer.location())}else if(!this._tokenizer.eat("eof")){for(;!this._tokenizer.match("\n")&&!this._tokenizer.match("eof")&&!this._tokenizer.match("dedent");)if(!this._tokenizer.eat(";")){if(t=this._parseStatement(),!t)throw new python.Error("Empty statement"+this._tokenizer.location());e.statements.push(t)}this._tokenizer.eat("\n")}return e}_parseStatement(){let e=this._node();if(e=this._eat("id","break"),e)return e;if(e=this._eat("id","continue"),e)return e;if(e=this._eat("id","return"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","raise"),e)return e.exception=this._parseExpression(-1,["from"]),this._tokenizer.eat("id","from")?e.from=this._parseExpression():this._tokenizer.eat(",")&&(e.exception=[e.exception],e.exception.push(this._parseExpression()),this._tokenizer.eat(",")&&e.exception.push(this._parseExpression())),e;if(e=this._eat("id","assert"),e){for(e.condition=this._parseExpression();this._tokenizer.eat(",");)e.condition={type:"list",value:[e.condition]},e.condition.value.push(this._parseExpression());return e}if(e=this._eat("id","exec"),e){if(e.variable=this._parseExpression(-1,["in"]),this._tokenizer.eat("in"))do{e.target=e.target||[],e.target.push(this._parseExpression(-1,["in"],!1))}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","global"),e){e.variable=[];do{e.variable.push(this._parseName())}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","nonlocal"),e){e.variable=[];do{e.variable.push(this._parseName())}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","import"),e){e.modules=[];do{const t=this._node("module");t.name=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(t.as=this._parseExpression(-1,[],!1)),e.modules.push(t)}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","from"),e){const t=this._tokenizer.peek();t&&Array.from(t.type).every((e=>"."==e))?(e.from=this._eat(t.type),e.from.expression=this._parseExpression()):e.from=this._parseExpression(),this._tokenizer.expect("id","import"),e.import=[];const i=this._tokenizer.eat("(");do{const t=this._node();t.symbol=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(t.as=this._parseExpression(-1,[],!1)),e.import.push(t)}while(this._tokenizer.eat(","));return i&&this._tokenizer.expect(")"),e}if(e=this._eat("id","class"),e)return e.name=this._parseName().value,"("===this._tokenizer.peek().value&&(e.base=this._parseArguments()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;const t=this._eat("id","async");if(t&&!this._tokenizer.match("id","def")&&!this._tokenizer.match("id","with")&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'def', 'with' or 'for'"+this._tokenizer.location());if(e=this._eat("id","def"),e)return t&&(e.async=t),e.name=this._parseName().value,this._tokenizer.expect("("),e.parameters=this._parseParameters(")"),this._tokenizer.eat("->")&&(e.returnType=this._parseType()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;if(e=this._eat("id","del"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","print"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","if"),e){e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.then=this._parseSuite();let t=e;for(this._tokenizer.eat("\n");this._tokenizer.eat("id","elif");)t.else=this._node("if"),t=t.else,t.condition=this._parseExpression(),this._tokenizer.expect(":"),t.then=this._parseSuite(),this._tokenizer.eat("\n");return this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),t.else=this._parseSuite()),e}if(e=this._eat("id","while"),e)return e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e;if(e=this._eat("id","pass"),e)return e;if(e=this._eat("id","for"),e){for(e.variable=[],e.variable.push(this._parseExpression(-1,["in"]));this._tokenizer.eat(",");){if(this._tokenizer.match("id","in")){e.variable.push({});break}e.variable.push(this._parseExpression(-1,["in"]))}for(this._tokenizer.expect("id","in"),e.target=[],e.target.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")){e.target.push({});break}e.target.push(this._parseExpression(-1,["in"]))}return this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e}if(e=this._eat("id","with"),e){t&&(e.async=t),e.item=[];do{const t=this._node();t.type="with_item",t.expression=this._parseExpression(),this._tokenizer.eat("id","as")&&(t.variable=this._parseExpression()),e.item.push(t)}while(this._tokenizer.eat(","));return this._tokenizer.expect(":"),e.body=this._parseSuite(),e}if(e=this._eat("id","try"),e){for(this._tokenizer.expect(":"),e.body=this._parseSuite(),e.except=[];this._tokenizer.match("id","except");){const t=this._node("except");for(this._tokenizer.expect("id","except"),t.clause=[],t.clause.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")||this._tokenizer.match("as")){t.clause.push({});break}t.clause.push(this._parseExpression())}this._tokenizer.eat("id","as")&&(t.variable=this._parseExpression()),this._tokenizer.expect(":"),t.body=this._parseSuite(),e.except.push(t)}return this._tokenizer.match("id","else")&&(e.else=this._node("else"),this._tokenizer.expect("id","else"),this._tokenizer.expect(":"),e.else.body=this._parseSuite()),this._tokenizer.match("id","finally")&&(e.finally=this._node("finally"),this._tokenizer.expect("id","finally"),this._tokenizer.expect(":"),e.finally.body=this._parseSuite()),e}if(this._tokenizer.match("@")){if(e=this._node("decorator"),this._tokenizer.expect("@"),e.value=this._parseExpression(),!e.value||"call"!==e.value.type&&"id"!==e.value.type&&"."!==e.value.type)throw new python.Error("Invalid decorator"+this._tokenizer.location());return e}const i=this._parseExpression(-1,[],!0);if(i){if("id"==i.type&&this._tokenizer.eat(":"))return e=this._node("var"),e.name=i.value,e.location=i.location,e.variableType=this._parseExpression(-1,["="]),this._tokenizer.eat("=")&&(e.initializer=this._parseExpression()),e;let t=!1;switch(i.type){case"=":case":=":case"==":case"!=":case"+=":case"-=":case"*=":case"@=":case"/=":case"//=":case"**=":case"&=":case"|=":case"%=":case">>=":case"<<=":case">>":case"<<":case">=":case"<=":case"<":case">":case"%":case"^=":case"...":case"call":case"assert":case"raise":case"string":case"list":case"var":case".":case"[]":case"yield":case"+":case"-":case"*":case"**":case"@":case"/":case"//":case"~":case"&":case"^":case"|":case"not":case"id":case"number":case"in":case"and":case"or":case"if":case"for":case"tuple":case"lambda":case"await":t=!0}if(t)return i;throw new python.Error("Unhandled expression"+this._tokenizer.location())}return null}_parseExpression(e,t,i){e=e||-1;const s=new Set(t),n=[];for(;;){let r=this._node();const o=this._tokenizer.peek();if(1==n.length&&s.has(o.value))break;const h=python.Parser._precedence[o.value];if(h&&h>=e){if(this._tokenizer.read(),r.type=o.value,"id"!=o.type||"in"!==o.value&&"not"!==o.value){if("~"==o.value){r.type="~",r.expression=this._parseExpression(h,t,!1!==i),n.push(r);continue}"id"==o.type&&"is"==o.value&&this._tokenizer.eat("id","not")&&(r.type="is not")}else if("in"===o.value)r.type="in";else{if(!this._tokenizer.eat("id","in")){r.type="not",r.expression=this._parseExpression(h,t,!1!==i),n.push(r);continue}r.type="not in"}r.left=n.pop(),r.right=this._parseExpression(h,t,!1!==i),n.push(r);continue}if(this._tokenizer.eat(":=")){r.type=":=",r.target=n.pop(),r.expression=this._parseExpression(-1,t,!1!==i),n.push(r);continue}if(this._tokenizer.eat("=")){r.type="=",r.target=n.pop(),r.expression=this._parseExpression(-1,t,!1!==i),n.push(r);continue}switch(o.type){case"-=":case"**=":case"*=":case"//=":case"/=":case"&=":case"%=":case"^=":case"+=":case"<<=":case">>=":case"|=":case"@=":r=this._node(o.type),this._tokenizer.expect(o.type),r.target=n.pop(),r.expression=this._parseExpression(-1,t,!0),n.push(r);continue}if(r=this._eat("id","if"),r){r.then=n.pop(),r.condition=this._parseExpression(),this._tokenizer.expect("id","else"),r.else=this._parseExpression(),n.push(r);continue}for(;this._tokenizer.match("id","for")||this._tokenizer.match("id","async");){const e=this._eat("id","async");if(e&&!this._tokenizer.match("id","for"))throw new python.Error("Expected 'for'"+this._tokenizer.location());if(r=this._eat("id","for"),r){for(e&&(r.async=e),r.expression=n.pop(),r.variable=this._parseExpression(-1,["in"],!0),this._tokenizer.expect("id","in"),r.target=this._parseExpression(-1,["for","if"],!0);this._tokenizer.eat("id","if");)r.condition=r.condition||[],r.condition.push(this._parseExpression(-1,["for","if"]));n.push(r)}}if(r=this._eat("id","lambda"),r){r.parameters=this._parseParameters(":"),r.body=this._parseExpression(-1,t,!1),n.push(r);continue}if(r=this._eat("id","yield"),r){if(this._tokenizer.eat("id","from"))r.from=this._parseExpression(-1,[],!0);else{r.expression=[];do{r.expression.push(this._parseExpression(-1,[],!1))}while(this._tokenizer.eat(","))}n.push(r);continue}if(r=this._eat("id","await"),r){r.expression=this._parseExpression(e,t,i),n.push(r);continue}if(r=this._eat("."),r){this._tokenizer.eat("\n"),r.target=n.pop(),r.member=this._parseName(),n.push(r);continue}if("("===this._tokenizer.peek().value){if(0==n.length){r=this._node("tuple");const e=this._parseArguments();1==e.length?n.push(e[0]):(r.value=e,n.push(r))}else r=this._node("call"),r.target=n.pop(),r.arguments=this._parseArguments(),n.push(r);continue}if("["===this._tokenizer.peek().value){0==n.length?n.push(this._parseExpressions()):(r=this._node("[]"),r.target=n.pop(),r.arguments=this._parseSlice(),n.push(r));continue}if("{"==this._tokenizer.peek().value){n.push(this._parseDictOrSetMaker());continue}r=this._node();const a=this._parseLiteral();if(a){n.length>0&&"number"==a.type&&(a.value.startsWith("-")||a.value.startsWith("+"))?(r.type=a.value.substring(0,1),a.value=a.value.substring(1),r.left=n.pop(),r.right=a,n.push(r)):1==n.length&&"string"==a.type&&"string"==n[0].type?n[0].value+=a.value:n.push(a);continue}if(this._tokenizer.peek().keyword)break;if(r=this._eat("..."),r){n.push(r);continue}const _=this._parseName();if(!_){if(!0===i&&1==n.length&&this._tokenizer.eat(",")){if("tuple"===n[0].type?r=n[0]:(r=this._node("tuple"),r.value=[n.pop()],n.push(r)),"="===this._tokenizer.peek().value)continue;if(!this._tokenizer.match("=")&&!s.has(this._tokenizer.peek().value)){const s=t.slice(0).concat([",","="]),n=this._parseExpression(e,s,i);if(n){r.value.push(n);continue}}break}break}n.push(_)}if(1==n.length)return n.pop();if(0!=n.length)throw new python.Error("Unexpected expression"+this._tokenizer.location());return null}_parseDictOrSetMaker(){const e=[];this._tokenizer.expect("{");let t=!0;for(;!this._tokenizer.eat("}");){const i=this._parseExpression(-1,[],!1);if(null==i)throw new python.Error("Expected expression"+this._tokenizer.location());if(this._tokenizer.eat(":")||(t=!1),t){const t=this._parseExpression(-1,[],!1);if(null==t)throw new python.Error("Expected expression"+this._tokenizer.location());e.push({type:"pair",key:i,value:t})}else e.push(i);if(this._tokenizer.eat(","),this._tokenizer.eat("\n"),this._tokenizer.eat("}"))break}return t?{type:"dict",value:e}:{type:"set",value:e}}_parseExpressions(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const t=this._parseExpression();if(null==t)throw new python.Error("Expected expression"+this._tokenizer.location());for(e.push(t),this._tokenizer.eat(",");this._tokenizer.eat("\n"););if(this._tokenizer.eat("]"))break}return{type:"list",value:e}}_parseSlice(){let e={type:"::"},t=[];const i=["start","stop","step"];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");)if(this._tokenizer.eat(":"))e[i.shift()]={type:"list",value:t},t=[];else if(!this._tokenizer.eat(",")&&"]"!=this._tokenizer.peek().value){const e=this._parseExpression();if(null==e)throw new python.Error("Expected expression"+this._tokenizer.location());t.push(e)}return t.length>0&&(e[i.shift()]={type:"list",value:t}),!e.start||e.stop||e.step||(e=e.start),e}_parseName(){const e=this._tokenizer.peek();return"id"!=e.type||e.keyword?null:(this._tokenizer.read(),e)}_parseLiteral(){const e=this._tokenizer.peek();return"string"==e.type||"number"==e.type||"boolean"==e.type?(this._tokenizer.read(),e):null}_parseTypeArguments(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const t=this._parseType();if(null==t)throw new python.Error("Expected type "+this._tokenizer.location());if(e.push(t),!this._tokenizer.eat(",")){this._tokenizer.expect("]");break}}return e}_parseType(){const e=this._node();return e.type="type",e.name=this._parseExpression(-1,["[","="]),e.name?("["===this._tokenizer.peek().value&&(e.arguments=this._parseTypeArguments()),e):null}_parseParameter(e){const t=this._node("parameter");if(this._tokenizer.eat("/"))return t.name="/",t;this._tokenizer.eat("**")&&(t.parameterType="**"),this._tokenizer.eat("*")&&(t.parameterType="*");const i=this._parseName();return null!==i?(t.name=i.value,":"!==e&&this._tokenizer.eat(":")&&(t.parameterType=this._parseType()),this._tokenizer.eat("=")&&(t.initializer=this._parseExpression()),t):null}_parseParameters(e){const t=[];for(;!this._tokenizer.eat(e);)if(this._tokenizer.eat("\n"),this._tokenizer.eat("(")?t.push(this._parseParameters(")")):t.push(this._parseParameter(e)),this._tokenizer.eat("\n"),!this._tokenizer.eat(",")){this._tokenizer.expect(e);break}return t}_parseArguments(){const e=[];for(this._tokenizer.expect("(");!this._tokenizer.eat(")");){if(this._tokenizer.eat("\n"))continue;const t=this._parseExpression(-1,[],!1);if(null==t)throw new python.Error("Expected expression "+this._tokenizer.location());if(e.push(t),!this._tokenizer.eat(",")){this._tokenizer.eat("\n"),this._tokenizer.expect(")");break}}return e}_node(e){const t={};return t.location=this._tokenizer.location(),e&&(t.type=e),t}_eat(e,t){if(this._tokenizer.match(e,t)){const i=this._node("id"===e?t:e);return this._tokenizer.expect(e,t),i}return null}},python.Tokenizer=class{constructor(e,t){if(this._text=e,this._file=t,this._position=0,this._lineStart=0,this._line=0,this._token={type:"",value:""},this._brackets=0,this._indentation=[],this._outdent=0,!python.Tokenizer._whitespace){python.Tokenizer._whitespace=new RegExp("[ ᠎ -   　\ufeff]");const e="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿";python.Tokenizer._identifierStart=new RegExp("["+e+"]"),python.Tokenizer._identifierChar=new RegExp("["+e+t+"]")}}peek(){return this._cache||(this._token=this._tokenize(this._token),this._cache=!0),this._token}read(){this._cache||(this._token=this._tokenize(this._token));const e=this._position+this._token.value.length;for(;this._position<e;)python.Tokenizer._isNewline(this._get(this._position))?(this._position=this._newLine(this._position),this._lineStart=this._position,this._line++):this._position++;return this._cache=!1,this._token}match(e,t){const i=this.peek();return!(i.type!==e||t&&i.value!==t)}eat(e,t){const i=this.peek();return!(i.type!==e||t&&i.value!==t||(this.read(),0))}expect(e,t){const i=this.peek();if(i.type!==e)throw new python.Error("Unexpected '"+i.value+"' instead of '"+e+"'"+this.location());if(t&&i.value!==t)throw new python.Error("Unexpected '"+i.value+"' instead of '"+t+"'"+this.location());this.read()}location(){return" at "+this._file+":"+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}static _isSpace(e){switch(e){case" ":case"\t":case"\v":case"\f":case" ":return!0;default:return e.charCodeAt(0)>=5760&&python.Tokenizer._whitespace.test(e)}}static _isNewline(e){switch(e){case"\n":case"\r":case"\u2028":case"\u2029":return!0}return!1}static _isIdentifierStartChar(e){return e<"A"?"$"===e:e<="Z"||(e<"a"?"_"===e:e<="z"||e.charCodeAt(0)>=170&&python.Tokenizer._identifierStart.test(e))}static _isIdentifierChar(e){return e<"0"?"$"===e:e<="9"||!(e<"A")&&(e<="Z"||(e<"a"?"_"===e:e<="z"||e.charCodeAt(0)>=170&&python.Tokenizer._identifierChar.test(e)))}static _isDecimal(e){return e>="0"&&e<="9"||"_"===e}static _isHex(e){return python.Tokenizer._isDecimal(e)||e>="a"&&e<="f"||e>="A"&&e<="F"||"_"===e}static _isOctal(e){return e>="0"&&e<="7"||"_"===e}static _isBinary(e){return"0"===e||"1"===e||"_"===e}_get(e){return e>=this._text.length?"\0":this._text[e]}_skipLine(){for(;this._position<this._text.length&&!python.Tokenizer._isNewline(this._get(this._position));)this._position++}_skipWhitespace(){for(;this._position<this._text.length;){const e=this._text[this._position];if("#"==e)this._skipLine();else if(python.Tokenizer._isSpace(e))this._position++;else if("\\"==e){if(this._position++,!python.Tokenizer._isNewline(this._get(this._position)))throw new python.Error("Unexpected '"+this._text[this._position]+"' after line continuation"+this.location());this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}else{if(!(this._brackets>0&&python.Tokenizer._isNewline(e)))break;this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}}}_newLine(e){return"\n"===this._get(e)&&"\r"===this._get(e+1)||"\r"===this._get(e)&&"\n"===this._get(e+1)?e+2:e+1}_tokenize(e){if("\n"!==this._token.type&&this._skipWhitespace(),"dedent"===this._token.type&&(this._indentation.pop(),this._outdent--,this._outdent>0))return{type:"dedent",value:""};if("\n"==e.type){let e="",t=this._position;for(;t<this._text.length;){const i=this._text[t];if(python.Tokenizer._isSpace(i))e+=i,t++;else{if(!python.Tokenizer._isNewline(i)){if("#"==i){for(e="";t<this._text.length&&!python.Tokenizer._isNewline(this._text[t]);)t++;continue}break}e="",t=this._newLine(t),this._position=t,this._lineStart=t,this._line++}}let i=null;if(e.length>0){const t=this._indentation.length>0?this._indentation[this._indentation.length-1]:"";if(e.length>t.length)i="indent",this._indentation.push(e);else if(e.length>0&&e.length<t.length){i="dedent",this._outdent=0;for(let t=this._indentation.length-1;t>=0&&e.length<this._indentation[t].length;t--)this._outdent++}else this._position+=e.length}else{if(t>=this._text.length)return{type:"eof",value:""};this._indentation.length>0&&(i="dedent",this._outdent=this._indentation.length)}switch(i){case"indent":case"dedent":return{type:i,value:e}}}if(this._position>=this._text.length)return{type:"eof",value:""};const t=this._get(this._position),i=this._string();if(i)return i;switch(t){case"(":case"[":case"{":return this._brackets++,{type:t,value:t};case")":case"]":case"}":if(0===this._brackets)throw new python.Error("Unexpected '"+t+"'"+this.location);return this._brackets--,{type:t,value:t};case",":case";":case"?":return{type:t,value:t};default:{const e=this._number();if(e)return e;if("."===t){let e=this._position+1;for(;"."===this._get(e);)e++;const t=this._text.substring(this._position,e);return{type:t,value:t}}const i=this._identifier();if(i)return i;const s=this._operator();if(s)return s;break}}if("."===t)return{type:t,value:t};if("\\"===t)return{type:"\\",value:t};if(python.Tokenizer._isNewline(t))return{type:"\n",value:this._text.substring(this._position,this._newLine(this._position))};throw new python.Error("Unexpected token '"+t+"'"+this.location())}_number(){let e=this._get(this._position);const t="-"===e||"+"===e?1:0;let i=this._position+t;if(e=this._get(i),"0"===e){let e=0;const t=this._get(i+1);if("x"!==t&&"X"!==t||!python.Tokenizer._isHex(this._get(i+2)))if("b"!==t&&"B"!==t||!python.Tokenizer._isBinary(this._get(i+2)))if("o"!==t&&"O"!==t||!python.Tokenizer._isOctal(this._get(i+2))){if(t>="0"&&t<="7"){for(i++;python.Tokenizer._isOctal(this._get(i));)i+=1;"l"!==this._get(i)&&"L"!==this._get(i)||(i+=1),e=8}}else{for(i+=2;python.Tokenizer._isOctal(this._get(i));)i++;e=8}else{for(i+=2;python.Tokenizer._isBinary(this._get(i));)i++;e=2}else{for(i+=2;python.Tokenizer._isHex(this._get(i));)i+=1;"l"!==this._get(i)&&"L"!==this._get(i)||(i+=1),e=16}if(e>0&&"."!==this._get(i)){const t=this._text.substring(this._position,i),s=-1!==t.indexOf("_")?t.split("_").join(""):t;if(!isNaN(parseInt(s,e)))return{type:"number",value:t}}}i=this._position+t;let s=!1;if(this._get(i)>="1"&&this._get(i)<="9"){for(;python.Tokenizer._isDecimal(this._get(i));)i++;e=this._get(i).toLowerCase(),s="."!==e&&"e"!==e}if("0"===this._get(i)&&(i++,e=this._get(i).toLowerCase(),s=!python.Tokenizer._isDecimal(e)&&"."!==e&&"e"!==e&&"j"!==e),s){if("j"===this._get(i)||"J"===this._get(i)||"l"===this._get(i)||"L"===this._get(i))return{type:"number",value:this._text.substring(this._position,i+1)};const e=this._text.substring(this._position,i);if(!isNaN(parseInt(e,10)))return{type:"number",value:e}}if(i=this._position+t,this._get(i)>="0"&&this._get(i)<="9"||"."===this._get(i)&&this._get(i+1)>="0"&&this._get(i+1)<="9"){for(;python.Tokenizer._isDecimal(this._get(i));)i++;for("."===this._get(i)&&i++;python.Tokenizer._isDecimal(this._get(i));)i++;if(i>this._position+t)if("e"===this._get(i)||"E"===this._get(i))if(i++,"-"!=this._get(i)&&"+"!=this._get(i)||i++,python.Tokenizer._isDecimal(this._get(i)))for(;python.Tokenizer._isDecimal(this._get(i));)i++;else i=this._position;else for(;python.Tokenizer._isDecimal(this._get(i));)i++;if(i>this._position+t){if("j"===this._get(i)||"J"===this._get(i))return{type:"number",value:this._text.substring(this._position,i+1)};const e=this._text.substring(this._position,i),t=-1!=e.indexOf("_")?e.split("_").join(""):e;if(!isNaN(parseFloat(t)))return{type:"number",value:e}}}return null}_identifier(){let e=this._position;if(python.Tokenizer._isIdentifierStartChar(this._get(e)))for(e++;python.Tokenizer._isIdentifierChar(this._get(e));)e++;if(e>this._position){const t=this._text.substring(this._position,e);return{type:"id",value:t,keyword:python.Tokenizer._isKeyword(t)}}return null}_operator(){let e=0;const t=this._get(this._position),i=this._get(this._position+1),s=this._get(this._position+2);switch(t){case"+":case"&":case"|":case"^":case"=":case"!":case"%":case"~":e="="===i?2:1;break;case"-":e="="===i||">"===i?2:1;break;case"*":e="*"===i?"="===s?3:2:"="===i?2:1;break;case"/":e="/"===i?"="===s?3:2:"="===i?2:1;break;case"<":e=">"===i?2:"<"===i?"="===s?3:2:"="===i?2:1;break;case">":e=">"===i?"="===s?3:2:"="===i?2:1;break;case"@":e="="===i?2:1;break;case":":e="="===i?2:1}if(e>0){const t=this._text.substring(this._position,this._position+e);return{type:t,value:t}}return null}_string(){let e=this._position,t=-1;if("'"===this._get(e)||'"'===this._get(e))t="";else if("'"===this._get(e+1)||'"'===this._get(e+1)){const i=this._get(e);switch(i.toLowerCase()){case"b":case"f":case"r":case"u":t=i}}else if("'"===this._get(e+2)||'"'===this._get(e+2)){const e=this._text.substr(this._position,2);switch(e.toLowerCase()){case"br":case"fr":case"rb":case"rf":case"ur":t=e}}if(t.length>=0){e+=t.length;let i="",s=0;const n=this._get(e),r=this._get(e+1),o=this._get(e+2);switch(n){case"'":i=n,s="'"===r&&"'"===o?3:1;break;case'"':i=n,s='"'===r&&'"'===o?3:1}if(e+=s,1==s)for(;e<this._text.length;){if(this._text[e]===i)return{type:"string",value:this._text.substring(this._position,e+1)};if("\\"!==this._text[e]||this._get(e+1)!=i&&"\n"!=this._get(e+1)&&"\\"!=this._get(e+1)){if("\r"===this._text[e]||"\n"===this._text[e])break;e++}else e+=2}else if(3==s)for(;e<this._text.length;){if(this._get(e)===i&&this._get(e+1)===i&&this._get(e+2)===i)return{type:"string",value:this._text.substring(this._position,e+3)};"\\"!==this._get(e)||this._get(e+1)!==i?e++:e+=2}}if(e=this._position,"`"===this._get(e))for(e++;e<this._text.length;){if("`"===this._text[e])return{type:"string",value:this._text.substring(this._position,e+1)};e++}return null}static _isKeyword(e){switch(e){case"and":case"as":case"else":case"for":case"if":case"import":case"in":case"is":case"not":case"or":return!0}return!1}},python.Error=class extends Error{constructor(e){super(e),this.name="Error loading Python module."}},"undefined"!=typeof module&&"object"==typeof module.exports&&(module.exports.Parser=python.Parser);