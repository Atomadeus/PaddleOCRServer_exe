(()=>{var e,t={63332:(e,t,s)=>{var i=s(32845),n=n||{};n.Archive=class{constructor(e){if(this._entries=[],e.length<18||31!=e[0]||139!=e[1])throw new n.Error("Invalid gzip archive.");const t=new n.Reader(e,0,e.length);this._entries.push(new n.Entry(t))}get entries(){return this._entries}},n.Entry=class{constructor(e){if(!e.match([31,139]))throw new n.Error("Invalid gzip signature.");const t=e.byte();if(8!=t)throw new n.Error("Invalid compression method '"+t.toString()+"'.");const o=e.byte();if(e.uint32(),e.byte(),e.byte(),0!=(4&o)){const t=e.uint16();e.skip(t)}0!=(8&o)&&(this._name=e.string()),0!=(16&o)&&e.string(),0!=(1&o)&&e.uint16();const r=e.bytes();if("object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node?this._data=s(83260).inflateRawSync(r):this._data=void 0!==i?i.inflateRaw(r):new s(71681).Inflater().inflateRaw(r),e.position=-8,e.uint32(),e.uint32()!=this._data.length)throw new n.Error("Invalid size.")}get name(){return this._name}get data(){return this._data}},n.Reader=class{constructor(e,t,s){this._buffer=e,this._position=t,this._end=s}match(e){if(this._position+e.length<=this._end)for(let t=0;t<e.length;t++)if(this._buffer[this._position+t]!=e[t])return!1;return this._position+=e.length,!0}get position(){return this._position}set position(e){this._position=e>=0?e:this._end+e}skip(e){if(this._position+e>this._end)throw new n.Error("Data not available.");this._position+=e}bytes(e){if(this._position+e>this._end)throw new n.Error("Data not available.");e=void 0===e?this._end:e;const t=this._buffer.subarray(this._position,this._position+e);return this._position+=e,t}byte(){if(this._position+1>this._end)throw new n.Error("Data not available.");const e=this._buffer[this._position];return this._position++,e}uint16(){if(this._position+2>this._end)throw new n.Error("Data not available.");const e=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,e}uint32(){return this.uint16()|this.uint16()<<16}string(){let e="";const t=this._buffer.indexOf(0,this._position);if(t<0)throw new n.Error("End of string not found.");for(;this._position<t;)e+=String.fromCharCode(this._buffer[this._position++]);return this._position++,e}},n.Error=class extends Error{constructor(e){super(e),this.name="Gzip Error"}},"object"==typeof e.exports&&(e.exports.Archive=n.Archive)},81600:(e,t,s)=>{var i=i||{},n=n||{Long:s(27808)};i.get=e=>(i._map=i._map||new Map,i._map.has(e)||i._map.set(e,{}),i._map.get(e)),i.Reader=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0,this._dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),this._decoder=new TextDecoder("utf-8")}static create(e){return new i.Reader(e)}next(e){return void 0===e?this._length:this._position+e}end(e){return this._position<e}get pos(){return this._position}string(){return this._decoder.decode(this.bytes())}bool(){return 0!==this.uint32()}bytes(){const e=this.uint32(),t=this._position,s=this._position+e;if(s>this._length)throw this._indexOutOfRangeError(e);return this._position+=e,this._buffer.slice(t,s)}uint32(){let e=4294967295;if(e=(127&this._buffer[this._position])>>>0,this._buffer[this._position++]<128)return e;if(e=(e|(127&this._buffer[this._position])<<7)>>>0,this._buffer[this._position++]<128)return e;if(e=(e|(127&this._buffer[this._position])<<14)>>>0,this._buffer[this._position++]<128)return e;if(e=(e|(127&this._buffer[this._position])<<21)>>>0,this._buffer[this._position++]<128)return e;if(e=(e|(15&this._buffer[this._position])<<28)>>>0,this._buffer[this._position++]<128)return e;if((this._position+=5)>this._length)throw this._position=this._length,this._indexOutOfRangeError(10);return e}int32(){return 0|this.uint32()}sint32(){const e=this.uint32();return e>>>1^-(1&e)|0}int64(){return this._readLongVarint().toLong(!1)}uint64(){return this._readLongVarint().toLong(!0)}sint64(){return this._readLongVarint().zzDecode().toLong(!1)}fixed64(){return this._readFixed64().toLong(!0)}sfixed64(){return this._readFixed64().toLong(!1)}fixed32(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);return this._position+=4,this._readFixed32()}sfixed32(){return 0|this.fixed32()}float(){if(this._position+4>this._length)throw this._indexOutOfRangeError(4);const e=this._position;return this._position+=4,this._dataView.getFloat32(e,!0)}double(){if(this._position+8>this._length)throw this._indexOutOfRangeError(4);const e=this._position;return this._position+=8,this._dataView.getFloat64(e,!0)}array(e,t,s){if(2==(7&s)){const s=this.uint32()+this._position;for(;this._position<s;)e.push(t())}else e.push(t());return e}floats(e,t){if(2==(7&t)){if(e&&e.length>0)throw new i.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t,n=t>>>2;e=t>1048576?new Float32Array(n):new Array(n);let o=this._position;for(let t=0;t<n;t++)e[t]=this._dataView.getFloat32(o,!0),o+=4;this._position=s}else void 0!==e&&e.length<1e6?e.push(this.float()):(e=void 0,this.float());return e}doubles(e,t){if(2==(7&t)){if(e&&e.length>0)throw new i.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t,n=t>>>3;e=t>1048576?new Float64Array(n):new Array(n);let o=this._position;for(let t=0;t<n;t++)e[t]=this._dataView.getFloat64(o,!0),o+=8;this._position=s}else void 0!==e&&e.length<1e6?e.push(this.double()):(e=void 0,this.double());return e}skip(e){if("number"==typeof e){if(this._position+e>this._length)throw this._indexOutOfRangeError(e);this._position+=e}else do{if(this._position>=this._length)throw this._indexOutOfRangeError()}while(128&this._buffer[this._position++]);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw new i.Error("invalid wire type "+e+" at offset "+this._position)}}pair(e,t,s){this.skip(),this._position++;const n="object"==typeof t?i.LongBits.hash(t()):t();this._position++;const o=s();e[n]=o}_readFixed32(){return(this._buffer[this._position-4]|this._buffer[this._position-3]<<8|this._buffer[this._position-2]<<16|this._buffer[this._position-1]<<24)>>>0}_readFixed64(){if(this._position+8>this._length)throw this._indexOutOfRangeError(8);this._position+=4;const e=this._readFixed32();this._position+=4;const t=this._readFixed32();return new i.LongBits(e,t)}_readLongVarint(){const e=new i.LongBits(0,0);let t=0;if(!(this._length-this._position>4)){for(;t<3;++t){if(this._position>=this._length)throw this._indexOutOfRangeError();if(e.lo=(e.lo|(127&this._buffer[this._position])<<7*t)>>>0,this._buffer[this._position++]<128)return e}return e.lo=(e.lo|(127&this._buffer[this._position++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this._buffer[this._position])<<7*t)>>>0,this._buffer[this._position++]<128)return e;if(e.lo=(e.lo|(127&this._buffer[this._position])<<28)>>>0,e.hi=(e.hi|(127&this._buffer[this._position])>>4)>>>0,this._buffer[this._position++]<128)return e;if(t=0,this._length-this._position>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this._buffer[this._position])<<7*t+3)>>>0,this._buffer[this._position++]<128)return e}else for(;t<5;++t){if(this._position>=this._length)throw this._indexOutOfRangeError();if(e.hi=(e.hi|(127&this._buffer[this._position])<<7*t+3)>>>0,this._buffer[this._position++]<128)return e}throw new i.Error("Invalid varint encoding.")}_indexOutOfRangeError(e){return RangeError("index out of range: "+this._position+" + "+(e||1)+" > "+this._length)}},i.TextReader=class{constructor(e){this._text=e,this._position=0,this._lineEnd=-1,this._lineStart=0,this._line=-1,this._depth=0,this._arrayDepth=0,this._token=""}static create(e){return new i.TextReader(e)}start(){this._depth>0&&this.expect("{"),this._depth++}end(){const e=this.peek();return this._depth>0&&"}"===e?(this.expect("}"),this.match(";"),this._depth--,!0):""===e}tag(){const e=this.read(),t=this.peek();return"["!==t&&"{"!==t&&this.expect(":"),e}assert(e){const t=this.tag();if(t!==e)throw new i.Error("Unexpected '"+t+"' instead of '"+e+"'"+this.location())}integer(){const e=this.read(),t=Number.parseInt(e,10);if(Number.isNaN(e-t))throw new i.Error("Couldn't parse integer '"+e+"'"+this.location());return this.semicolon(),t}float(){let e=this.read();if(e.startsWith("nan"))return NaN;if(e.startsWith("inf"))return 1/0;if(e.startsWith("-inf"))return-1/0;e.endsWith("f")&&(e=e.substring(0,e.length-1));const t=Number.parseFloat(e);if(Number.isNaN(e-t))throw new i.Error("Couldn't parse float '"+e+"'"+this.location());return this.semicolon(),t}string(){const e=this.read();if(e.length<2)throw new i.Error("String is too short"+this.location());const t=e[0];if("'"!==t&&'"'!==t)throw new i.Error("String is not in quotes"+this.location());if(t!==e[e.length-1])throw new i.Error("String quotes do not match"+this.location());const s=e.substring(1,e.length-1);return this.semicolon(),s}boolean(){const e=this.read();switch(e){case"true":case"True":case"1":return this.semicolon(),!0;case"false":case"False":case"0":return this.semicolon(),!1}throw new i.Error("Couldn't parse boolean '"+e+"'"+this.location())}bytes(){const e=this.string();let t=0,s=0;const n=e.length,o=new Uint8Array(n);for(;t<n;){let r=e.charCodeAt(t++);if(92!==r)o[s++]=r;else{if(t>=n)throw new i.Error("Unexpected end of bytes string"+this.location());switch(r=e.charCodeAt(t++),r){case 39:o[s++]=39;break;case 92:o[s++]=92;break;case 34:o[s++]=34;break;case 114:o[s++]=13;break;case 110:o[s++]=10;break;case 116:o[s++]=9;break;case 98:o[s++]=8;break;case 88:case 120:for(let r=0;r<2;r++){if(t>=n)throw new i.Error("Unexpected end of bytes string"+this.location());let r=e.charCodeAt(t++);if(r=r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r>=48&&r<=57?r-48:-1,-1===r)throw new i.Error("Unexpected hex digit '"+r+"' in bytes string"+this.location());o[s]=o[s]<<4|r}s++;break;default:if(r<48||r>57)throw new i.Error("Unexpected character '"+r+"' in bytes string"+this.location());t--;for(let r=0;r<3;r++){if(t>=n)throw new i.Error("Unexpected end of bytes string"+this.location());const r=e.charCodeAt(t++);if(r<48||r>57)throw new i.Error("Unexpected octal digit '"+r+"' in bytes string"+this.location());o[s]=o[s]<<3|r-48}s++}}}return o.slice(0,s)}enum(e){const t=this.read();if(!Object.prototype.hasOwnProperty.call(e,t)){const e=Number.parseInt(t,10);if(!Number.isNaN(t-e))return this.semicolon(),e;throw new i.Error("Couldn't parse enum '"+t+"'"+this.location())}return this.semicolon(),e[t]}any(e){if(this.match("[")){this.read();const t=this._position,s=this._text.indexOf("]",t);if(-1===s||s>=this.next)throw new i.Error("End of Any type_url not found"+this.location());return e.type_url=this._text.substring(t,s),this._position=s+1,e.value=this.skip().substring(1),this.expect("}"),this.match(";"),!0}return!1}pair(e,t,s){let i,n;for(this.start();!this.end();)switch(this.tag()){case"key":i=t();break;case"value":n=s()}e[i]=n}array(e,t){if(this.first())for(;!this.last();)e.push(t()),this.next();else e.push(t())}first(){return!!this.match("[")&&(this._arrayDepth++,!0)}last(){return!!this.match("]")&&(this._arrayDepth--,!0)}next(){const e=this.peek();","!==e?"]"!==e&&this.handle(e):this.read()}skip(){let e=this.peek();if("{"===e){const t=this._position,s=this._depth;for(this.start();!this.end()||s<this._depth;)e=this.peek(),"{"===e?this.start():"}"!==e&&(this.read(),this.match(";"));return this._text.substring(t,this._position)}if("["===e){const t=this._position;for(this.read();!this.last();)e=this.read(),""===e&&this.handle(e);return this._text.substring(t,this._position)}const t=this._position;return this.read(),this.semicolon(),this._text.substring(t,this._position)}handle(e){throw new i.Error("Unexpected token '"+e+"'"+this.location())}field(e){throw new i.Error("Unknown field '"+e+"'"+this.location())}whitespace(){for(;;){for(;this._position>=this._lineEnd;){if(this._lineStart=this._lineEnd+1,this._position=this._lineStart,this._position>=this._text.length)return!1;this._lineEnd=this._text.indexOf("\n",this._position),-1===this._lineEnd&&(this._lineEnd=this._text.length),this._line++}switch(this._text[this._position]){case" ":case"\r":case"\t":this._position++;break;case"#":this._position=this._lineEnd;break;default:return!0}}}tokenize(){if(!this.whitespace())return this._token="",this._token;let e=this._text[this._position];if("["===e&&this._position+2<this._lineEnd){let e=this._position+1,t=this._text[e];if(t>="a"&&t<="z"||t>="A"&&t<="Z")for(e++;e<this._lineEnd;)if(t=this._text[e],e++,!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"."===t||"/"===t)&&"]"===t)return this._token=this._text.substring(this._position,e),this._token}if("{"===e||"}"===e||":"===e||"["===e||","===e||"]"===e||";"===e)return this._token=e,this._token;let t=this._position+1;if(e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e){for(;t<this._lineEnd&&(e=this._text[t],e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"+"===e||"-"===e);)t++;return this._token=this._text.substring(this._position,t),this._token}if(e>="0"&&e<="9"||"-"===e||"+"===e||"."===e){for(;t<this._lineEnd&&(e=this._text[t],e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"+"===e||"-"===e||"."===e);)t++;return this._token=this._text.substring(this._position,t),this._token}if('"'===e||"'"===e){const s=e;for(;t<this._lineEnd;)if(e=this._text[t],"\\"===e&&t<this._lineEnd)t+=2;else if(t++,e===s)break;return this._token=this._text.substring(this._position,t),this._token}throw new i.Error("Unexpected token '"+e+"'"+this.location())}peek(){return this._cache||(this._token=this.tokenize(),this._cache=!0),this._token}read(){return this._cache||(this._token=this.tokenize()),this._position+=this._token.length,this._cache=!1,this._token}expect(e){const t=this.read();if(t!==e)throw new i.Error("Unexpected '"+t+"' instead of '"+e+"'"+this.location())}match(e){return this.peek()===e&&(this.read(),!0)}semicolon(){0===this._arrayDepth&&this.match(";")}location(){return" at "+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}},i.Long=n.Long,i.LongBits=class{constructor(e,t){this.lo=e>>>0,this.hi=t>>>0}toLong(e){return i.Long?new i.Long(0|this.lo,0|this.hi,e):{low:0|this.lo,high:0|this.hi,unsigned:e}}toNumber(e){if(!e&&this.hi>>>31){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi}toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)}zzDecode(){const e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}from(e){if("number"==typeof e)return i.LongBits.fromNumber(e);if("string"==typeof e||e instanceof String){if(!i.Long)return i.LongBits.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new i.LongBits(e.low>>>0,e.high>>>0):i.LongBits.zero}hash(e){return e?i.LongBits.from(e).toHash():"\0\0\0\0\0\0\0\0"}},i.LongBits.zero=new i.LongBits(0,0),i.LongBits.zero.toNumber=function(){return 0},i.LongBits.zero.zzDecode=function(){return this},i.Error=class extends Error{constructor(e){super(e),this.name="Protocol Buffer Error",this.message=e}},"object"==typeof e.exports&&(e.exports.Reader=i.Reader,e.exports.TextReader=i.TextReader,e.exports.Error=i.Error,e.exports.Long=i.Long,e.exports.get=i.get)},499:e=>{var t=t||{};t.Archive=class{constructor(e){this._entries=[];const s=new t.Reader(e,0,e.length);for(;s.peek()&&(this._entries.push(new t.Entry(s)),!s.match(512,0)););}get entries(){return this._entries}},t.Entry=class{constructor(e){const s=e.bytes(512);e.skip(-512);let i=0;for(let e=0;e<s.length;e++)i+=e>=148&&e<156?32:s[e];this._name=e.string(100),e.string(8),e.string(8),e.string(8);const n=parseInt(e.string(12).trim(),8);e.string(12);const o=parseInt(e.string(8).trim(),8);if(isNaN(o)||i!=o)throw new t.Error("Invalid tar archive.");e.string(1),e.string(100),e.bytes(255),this._data=e.bytes(n),e.bytes(n%512!=0?512-n%512:0)}get name(){return this._name}get data(){return this._data}},t.Reader=class{constructor(e){this._buffer=e,this._position=0,this._end=e.length}skip(e){if(this._position+=e,this._position>this._buffer.length)throw new t.Error("Expected "+(this._position-this._buffer.length)+" more bytes. The file might be corrupted. Unexpected end of file.")}peek(){return this._position<this._end}match(e,t){return!!(this._position+e<=this._end&&this._buffer.subarray(this._position,this._position+e).every((e=>e==t)))&&(this._position+=e,!0)}bytes(e){const t=this._position;return this.skip(e),this._buffer.subarray(t,this._position)}string(e){const t=this.bytes(e);let s=0,i="";for(let n=0;n<e;n++){const e=t[s++];if(0==e)break;i+=String.fromCharCode(e)}return i}},t.Error=class extends Error{constructor(e){super(e),this.name="tar Error"}},"object"==typeof e.exports&&(e.exports.Archive=t.Archive)},19684:(e,t,s)=>{var i=i||{},n=n||s(46506);i.Renderer=class{constructor(e,t){this._document=e,this._svgElement=t}render(e){const t=this.createElement("g");t.setAttribute("id","clusters"),t.setAttribute("class","clusters"),this._svgElement.appendChild(t);const s=this.createElement("g");s.setAttribute("id","edge-paths"),s.setAttribute("class","edge-paths"),this._svgElement.appendChild(s);const o=this.createElement("g");o.setAttribute("id","edge-labels"),o.setAttribute("class","edge-labels"),this._svgElement.appendChild(o);const r=this.createElement("g");r.setAttribute("id","nodes"),r.setAttribute("class","nodes"),this._svgElement.appendChild(r);for(const t of e.nodes())if(0==e.children(t).length){const s=e.node(t),i=this.createElement("g");s.id&&i.setAttribute("id",s.id),i.setAttribute("class",Object.prototype.hasOwnProperty.call(s,"class")?"node "+s.class:"node"),i.style.opacity=0;const n=this.createElement("g");n.appendChild(s.label),i.appendChild(n),r.appendChild(i);const o=s.label.getBBox(),a=-o.width/2,h=-o.height/2;n.setAttribute("transform","translate("+a+","+h+")"),s.width=o.width,s.height=o.height,s.element=i}for(const t of e.edges()){const s=e.edge(t);if(s.label){const e=this.createElement("tspan");e.setAttribute("xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.appendChild(this._document.createTextNode(s.label));const t=this.createElement("text");t.appendChild(e);const i=this.createElement("g");i.appendChild(t);const n=this.createElement("g");n.style.opacity=0,n.setAttribute("class","edge-label"),n.appendChild(i),o.appendChild(n);const r=i.getBBox(),a=-r.width/2,h=-r.height/2;i.setAttribute("transform","translate("+a+","+h+")"),s.width=r.width,s.height=r.height,s.labelElement=n}}n.layout(e);for(const t of e.nodes())if(0==e.children(t).length){const s=e.node(t);s.element.setAttribute("transform","translate("+s.x+","+s.y+")"),s.element.style.opacity=1,delete s.element}for(const t of e.edges()){const s=e.edge(t);s.labelElement&&(s.labelElement.setAttribute("transform","translate("+s.x+","+s.y+")"),s.labelElement.style.opacity=1,delete s.labelElement)}const a=this.createElement("defs");s.appendChild(a);const h=this.createElement("marker");h.setAttribute("id","arrowhead-vee"),h.setAttribute("viewBox","0 0 10 10"),h.setAttribute("refX",9),h.setAttribute("refY",5),h.setAttribute("markerUnits","strokeWidth"),h.setAttribute("markerWidth",8),h.setAttribute("markerHeight",6),h.setAttribute("orient","auto"),a.appendChild(h);const c=this.createElement("path");c.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),c.style.setProperty("stroke-width",1),c.style.setProperty("stroke-dasharray","1,0"),h.appendChild(c);for(const t of e.edges()){const n=e.edge(t),o=i.Renderer._computeCurvePath(n,e.node(t.v),e.node(t.w)),r=this.createElement("path");r.setAttribute("class",Object.prototype.hasOwnProperty.call(n,"class")?"edge-path "+n.class:"edge-path"),r.setAttribute("d",o),r.setAttribute("marker-end","url(#arrowhead-vee)"),n.id&&r.setAttribute("id",n.id),s.appendChild(r)}for(const s of e.nodes())if(e.children(s).length>0){const i=e.node(s),n=this.createElement("g");n.setAttribute("class","cluster"),n.setAttribute("transform","translate("+i.x+","+i.y+")");const o=this.createElement("rect");o.setAttribute("x",-i.width/2),o.setAttribute("y",-i.height/2),o.setAttribute("width",i.width),o.setAttribute("height",i.height),i.rx&&o.setAttribute("rx",i.rx),i.ry&&o.setAttribute("ry",i.ry),n.appendChild(o),t.appendChild(n)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}static _computeCurvePath(e,t,s){const n=e.points.slice(1,e.points.length-1);n.unshift(i.Renderer.intersectRect(t,n[0])),n.push(i.Renderer.intersectRect(s,n[n.length-1]));const a=new o,h=new r(a);for(let e=0;e<n.length;e++){const t=n[e];0==e&&h.lineStart(),h.point(t.x,t.y),e==n.length-1&&h.lineEnd()}return a.data}static intersectRect(e,t){const s=e.x,i=e.y,n=t.x-s,o=t.y-i;let r,a,h=e.width/2,c=e.height/2;return Math.abs(o)*h>Math.abs(n)*c?(o<0&&(c=-c),r=0===o?0:c*n/o,a=c):(n<0&&(h=-h),r=h,a=0===n?0:h*o/n),{x:s+r,y:i+a}}},i.NodeElement=class{constructor(e){this._document=e,this._blocks=[]}block(e){switch(this._block=null,e){case"header":this._block=new i.NodeElement.Header(this._document);break;case"list":this._block=new i.NodeElement.List(this._document)}return this._blocks.push(this._block),this._block}format(e){const t=this.createElement("g");e.appendChild(t);let s=0,n=0;const o=[];for(const e of this._blocks)o.push(n),e.layout(t),s<e.width&&(s=e.width),n+=e.height;for(let e=0;e<this._blocks.length;e++){const i=o.shift();this._blocks[e].update(t,i,s,0==e,e==this._blocks.length-1)}const r=this.createElement("path");return r.setAttribute("class",["node","border"].join(" ")),r.setAttribute("d",i.NodeElement.roundedRect(0,0,s,n,!0,!0,!0,!0)),t.appendChild(r),e.innerHTML="",t}static roundedRect(e,t,s,i,n,o,r,a){return"M"+(e+(n=n?5:0))+","+t+"h"+(s-n-(o=o?5:0))+"a"+o+","+o+" 0 0 1 "+o+","+o+"v"+(i-o-(r=r?5:0))+"a"+r+","+r+" 0 0 1 "+-r+","+r+"h"+(r+(a=a?5:0)-s)+"a"+a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a+n)+"a"+n+","+n+" 0 0 1 "+n+","+-n+"z"}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},i.NodeElement.Header=class{constructor(e){this._document=e,this._items=[]}add(e,t,s,i,n){this._items.push({id:e,classList:t,content:s,tooltip:i,handler:n})}layout(e){this._width=0,this._height=0,this._elements=[];let t=0;for(const s of this._items){const i=4,n=7,o=this.createElement("g");let r=["node-item"];e.appendChild(o);const a=this.createElement("path"),h=this.createElement("text");if(o.appendChild(a),o.appendChild(h),s.classList&&(r=r.concat(s.classList)),o.setAttribute("class",r.join(" ")),s.id&&o.setAttribute("id",s.id),s.handler&&o.addEventListener("click",s.handler),s.tooltip){const e=this.createElement("title");e.textContent=s.tooltip,o.appendChild(e)}s.content&&(h.textContent=s.content);const c=h.getBBox(),l=c.width+n+n,m=c.height+i+i;this._elements.push({group:o,text:h,path:a,x:t,y:0,width:l,height:m,tx:n,ty:i-c.y}),t+=l,this._height<m&&(this._height=m),t>this._width&&(this._width=t)}}get width(){return this._width}get height(){return this._height}update(e,t,s,n,o){const r=s-this._width;let a,h,c;for(a=0;a<this._elements.length;a++)h=this._elements[a],0==a?h.width=h.width+r:(h.x=h.x+r,h.tx=h.tx+r),h.y=h.y+t;for(a=0;a<this._elements.length;a++){h=this._elements[a],h.group.setAttribute("transform","translate("+h.x+","+h.y+")");const e=0==a&&n,t=a==this._elements.length-1&&n,s=a==this._elements.length-1&&o,r=0==a&&o;h.path.setAttribute("d",i.NodeElement.roundedRect(0,0,h.width,h.height,e,t,s,r)),h.text.setAttribute("x",6),h.text.setAttribute("y",h.ty)}for(a=0;a<this._elements.length;a++)h=this._elements[a],0!=a&&(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",h.x),c.setAttribute("x2",h.x),c.setAttribute("y1",t),c.setAttribute("y2",t+this._height),e.appendChild(c));n||(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",0),c.setAttribute("x2",s),c.setAttribute("y1",t),c.setAttribute("y2",t),e.appendChild(c))}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},i.NodeElement.List=class{constructor(e){this._document=e,this._items=[]}add(e,t,s,i,n){this._items.push({id:e,name:t,value:s,tooltip:i,separator:n})}get handler(){return this._handler}set handler(e){this._handler=e}layout(e){this._width=0,this._height=0,this._element=this.createElement("g"),this._element.setAttribute("class","node-attribute"),e.appendChild(this._element),this._handler&&this._element.addEventListener("click",this._handler),this._backgroundElement=this.createElement("path"),this._element.appendChild(this._backgroundElement),this._element.setAttribute("transform","translate(0,0)"),this._height+=3;for(const e of this._items){const t=1,s=6,i=this.createElement("text");if(e.id&&i.setAttribute("id",e.id),i.setAttribute("xml:space","preserve"),this._element.appendChild(i),e.tooltip){const t=this.createElement("title");t.textContent=e.tooltip,i.appendChild(t)}const n=this.createElement("tspan");n.textContent=e.name,"="!=e.separator.trim()&&(n.style.fontWeight="bold"),i.appendChild(n);const o=this.createElement("tspan");o.textContent=e.separator+e.value,i.appendChild(o);const r=i.getBBox(),a=s+r.width+s;this._width<a&&(this._width=a),i.setAttribute("x",0+s),i.setAttribute("y",this._height+t-r.y),this._height+=t+r.height+t}this._height+=3,this._width<100&&(this._width=100)}get width(){return this._width}get height(){return this._height}update(e,t,s,n,o){this._element.setAttribute("transform","translate(0,"+t+")");const r=n,a=n,h=o,c=o;if(this._backgroundElement.setAttribute("d",i.NodeElement.roundedRect(0,0,s,this._height,r,a,h,c)),!n){const e=this.createElement("line");e.setAttribute("class","node"),e.setAttribute("x1",0),e.setAttribute("x2",s),e.setAttribute("y1",0),e.setAttribute("y2",0),this._element.appendChild(e)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}};class o{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(e,t){this._data+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)}lineTo(e,t){this._data+="L"+(this._x1=+e)+","+(this._y1=+t)}bezierCurveTo(e,t,s,i,n,o){this._data+="C"+ +e+","+ +t+","+ +s+","+ +i+","+(this._x1=+n)+","+(this._y1=+o)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class r{constructor(e){this._context=e}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(e,t);break;default:this.curve(e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}curve(e,t){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6)}}"object"==typeof e.exports&&(e.exports.Renderer=i.Renderer,e.exports.NodeElement=i.NodeElement)},71681:(e,t,s)=>{var i=s(32845),n=n||{};n.Archive=class{constructor(e){if(this._entries=[],e.length<4||80!=e[0]||75!=e[1])throw new n.Error("Invalid Zip archive.");let t=null;for(let s=e.length-4;s>=0;s--)if(80===e[s]&&75===e[s+1]&&5===e[s+2]&&6===e[s+3]){t=new n.Reader(e,s+4,e.length);break}if(!t)throw new n.Error("End of central directory not found.");for(t.skip(12),t.position=t.uint32();t.match([80,75,1,2]);)this._entries.push(new n.Entry(t))}get entries(){return this._entries}},n.Entry=class{constructor(e){if(e.uint16(),e.skip(2),this._flags=e.uint16(),1==(1&this._flags))throw new n.Error("Encrypted entries not supported.");this._compressionMethod=e.uint16(),e.uint32(),e.uint32(),this._compressedSize=e.uint32(),this._size=e.uint32();let t=e.uint16(),s=e.uint16();const i=e.uint16();e.uint16(),e.uint16(),e.uint32();const o=e.uint32();e.skip(t),e.skip(s),e.bytes(i);const r=e.position;if(e.position=o,!e.match([80,75,3,4]))throw new n.Error("Invalid local file header signature.");e.skip(22),t=e.uint16(),s=e.uint16();const a=e.bytes(t);this._name="";for(const e of a)this._name+=String.fromCharCode(e);e.skip(s),this._compressedData=e.bytes(this._compressedSize),e.position=r}get name(){return this._name}get data(){if(!this._data){switch(this._compressionMethod){case 0:if(this._size!=this._compressedSize)throw new n.Error("Invalid compression size.");this._data=new Uint8Array(this._compressedData.length),this._data.set(this._compressedData);break;case 8:if(this._data=(new n.Inflater).inflateRaw(this._compressedData),this._size!=this._data.length)throw new n.Error("Invalid uncompressed size.");break;default:throw new n.Error("Invalid compression method.")}delete this._size,delete this._compressedData}return this._data}},n.HuffmanTree=class{constructor(){this.table=new Uint16Array(16),this.symbol=new Uint16Array(288),n.HuffmanTree._offsets=n.HuffmanTree._offsets||new Uint16Array(16)}build(e,t,s){for(let e=0;e<16;++e)this.table[e]=0;for(let i=0;i<s;++i)this.table[e[t+i]]++;this.table[0]=0;let i=0;for(let e=0;e<16;e++)n.HuffmanTree._offsets[e]=i,i+=this.table[e];for(let i=0;i<s;i++)e[t+i]&&(this.symbol[n.HuffmanTree._offsets[e[t+i]]++]=i)}static initialize(){if(!n.HuffmanTree.staticLiteralLengthTree){n.HuffmanTree.staticLiteralLengthTree=new n.HuffmanTree,n.HuffmanTree.staticLiteralLengthTree.table=new Uint8Array([0,0,0,0,0,0,0,24,152,112,0,0,0,0,0,0]);for(let e=0;e<24;++e)n.HuffmanTree.staticLiteralLengthTree.symbol[e]=256+e;for(let e=0;e<144;++e)n.HuffmanTree.staticLiteralLengthTree.symbol[24+e]=e;for(let e=0;e<8;++e)n.HuffmanTree.staticLiteralLengthTree.symbol[168+e]=280+e;for(let e=0;e<112;++e)n.HuffmanTree.staticLiteralLengthTree.symbol[176+e]=144+e;n.HuffmanTree.staticDistanceTree=new n.HuffmanTree,n.HuffmanTree.staticDistanceTree.table=new Uint8Array([0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0]),n.HuffmanTree.staticDistanceTree.symbol=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31])}}},n.Inflater=class{inflate(e){if("object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node)return s(83260).inflateSync(e);if(void 0!==i)return i.inflate(e);throw new n.Error("zlib inflate not supported.")}inflateRaw(e){if("object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node)return s(83260).inflateRawSync(e);if(void 0!==i)return i.inflateRaw(e);n.Inflater.initilize(),n.HuffmanTree.initialize();const t=new n.BitReader(e),o=new n.Ouptut,r=new n.HuffmanTree,a=new n.HuffmanTree;let h;do{switch(h=t.bits(3),h>>>1){case 0:this._inflateUncompressedBlock(t,o);break;case 1:this._inflateBlockData(t,o,n.HuffmanTree.staticLiteralLengthTree,n.HuffmanTree.staticDistanceTree);break;case 2:this._decodeTrees(t,r,a),this._inflateBlockData(t,o,r,a);break;default:throw new n.Error("Unknown block type.")}}while(0==(1&h));return o.merge()}_inflateUncompressedBlock(e,t){for(;e.data>8;)e.position--,e.data-=8;e.data=0;const s=e.uint16();if(s!==(65535&~e.uint16()))throw new n.Error("Invalid uncompressed block length.");const i=e.bytes(s);t.push(i),s>32768?(t.buffer.set(i.subarray(i.length-32768,i.length),0),t.position=32768):(t.reset(),t.buffer.set(i,t.position),t.position+=i.length)}_decodeTrees(e,t,s){const i=e.bits(5)+257,o=e.bits(5)+1,r=e.bits(4)+4;for(let e=0;e<19;e++)n.Inflater._lengths[e]=0;for(let t=0;t<r;t++)n.Inflater._lengths[n.Inflater._codeOrder[t]]=e.bits(3);let a;n.Inflater._codeTree.build(n.Inflater._lengths,0,19);for(let t=0;t<i+o;){const s=e.symbol(n.Inflater._codeTree);switch(s){case 16:{const s=n.Inflater._lengths[t-1];for(a=e.bits(2)+3;a;a--)n.Inflater._lengths[t++]=s;break}case 17:for(a=e.bits(3)+3;a;a--)n.Inflater._lengths[t++]=0;break;case 18:for(a=e.bits(7)+11;a;a--)n.Inflater._lengths[t++]=0;break;default:n.Inflater._lengths[t++]=s}}t.build(n.Inflater._lengths,0,i),s.build(n.Inflater._lengths,i,o)}_inflateBlockData(e,t,s,i){const o=t.buffer;let r=t.position,a=r;for(;;){r>62464&&(t.position=r,t.push(new Uint8Array(o.subarray(a,r))),r=t.reset(),a=r);let h=e.symbol(s);if(256===h)return t.position=r,t.push(new Uint8Array(o.subarray(a,t.position))),void t.reset();if(h<256)o[r++]=h;else{h-=257;const t=e.bitsBase(n.Inflater._lengthBits[h],n.Inflater._lengthBase[h]),s=e.symbol(i);let a=r-e.bitsBase(n.Inflater._distanceBits[s],n.Inflater._distanceBase[s]);for(let e=0;e<t;e++)o[r++]=o[a++]}}}static initilize(){n.HuffmanTree.staticLiteralLengthTree||(n.Inflater._codeOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.Inflater._codeTree=new n.HuffmanTree,n.Inflater._lengths=new Uint8Array(320),n.Inflater._lengthBits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,6],n.Inflater._lengthBase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,323],n.Inflater._distanceBits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n.Inflater._distanceBase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577])}},n.Ouptut=class{constructor(){this._blocks=[],this.buffer=new Uint8Array(65536),this.position=0}reset(){return this.position>32768&&(this.buffer.set(this.buffer.subarray(this.position-32768,this.position),0),this.position=32768),this.position}push(e){this._blocks.push(e)}merge(){let e=0;for(const t of this._blocks)e+=t.length;const t=new Uint8Array(e);let s=0;for(const e of this._blocks)t.set(e,s),s+=e.length;return t}},n.BitReader=class{constructor(e){this.buffer=e,this.position=0,this.data=0,this.value=0}bits(e){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const t=this.value&65535>>>16-e;return this.value>>>=e,this.data-=e,t}bitsBase(e,t){if(0==e)return t;for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;const s=this.value&65535>>>16-e;return this.value>>>=e,this.data-=e,s+t}bytes(e){const t=this.buffer.subarray(this.position,this.position+e);return this.position+=e,t}uint16(){const e=this.buffer[this.position]|this.buffer[this.position+1]<<8;return this.position+=2,e}symbol(e){for(;this.data<24;)this.value|=this.buffer[this.position++]<<this.data,this.data+=8;let t=0,s=0,i=0,n=this.value;const o=e.table;do{s=(s<<1)+(1&n),n>>>=1,i++,t+=o[i],s-=o[i]}while(s>=0);return this.value=n,this.data-=i,e.symbol[t+s]}},n.Reader=class{constructor(e,t,s){this._buffer=e,this._position=t,this._end=s}match(e){if(this._position+e.length<=this._end)for(let t=0;t<e.length;t++)if(this._buffer[this._position+t]!=e[t])return!1;return this._position+=e.length,!0}get position(){return this._position}set position(e){this._position=e>=0?e:this._end+e}peek(){return this._position<this._end}skip(e){if(this._position+e>this._end)throw new n.Error("Data not available.");this._position+=e}bytes(e){if(this._position+e>this._end)throw new n.Error("Data not available.");e=void 0===e?this._end:e;const t=this._buffer.subarray(this._position,this._position+e);return this._position+=e,t}uint16(){if(this._position+2>this._end)throw new n.Error("Data not available.");const e=this._buffer[this._position]|this._buffer[this._position+1]<<8;return this._position+=2,e}uint32(){return this.uint16()|this.uint16()<<16}},n.Error=class extends Error{constructor(e){super(e),this.name="Zip Error"}},"object"==typeof e.exports&&(e.exports.Archive=n.Archive,e.exports.Inflater=n.Inflater)},68138:(e,t,s)=>{const i=s(68513),n=s(24137),o=class{constructor(){window.eval=()=>{throw new Error("window.eval() not supported.")},this._document=window.document,this._meta={};for(const e of Array.from(this._document.getElementsByTagName("meta")))e.content&&(this._meta[e.name]=this._meta[e.name]||[],this._meta[e.name].push(e.content));this._type=this._meta.type?this._meta.type[0]:"Browser",this._version=this._meta.version?this._meta.version[0]:null,this._ready=!1}get document(){return this._document}get version(){return this._version}get type(){return this._type}initialize(e){return this._view=e,Promise.resolve()}start(){window.addEventListener("message",(e=>{const t=e.data;if(t){const e=t.type,s=t.data;switch(e){case"change-files":return this._changeFiles(s);case"zoom-in":return this._view.zoomIn();case"zoom-out":return this._view.zoomOut();case"select-item":return this._view.selectItem(s);case"toggle-Language":return this._view.toggleLanguage(s);case"isAlt":return this._view.changeAlt(s);case"zoom-reset":return this._view.resetZoom();case"toggle-attributes":return this._view.toggleAttributes(s);case"toggle-initializers":return this._view.toggleInitializers(s);case"toggle-names":return this._view.toggleNames(s);case"toggle-KeepData":return this._view.toggleKeepData(s);case"toggle-direction":return this._view.toggleDirection(s);case"toggle-theme":return this._view.toggleTheme(s);case"export":return this._view.export(`${document.title}.${s}`);case"change-graph":return this._view.changeGraph(s);case"change-allGraph":return this._view.changeAllGrap(s);case"change-select":return this._view.changeSelect(s);case"search":return this._view.find(s);case"select":return this._view.select(s);case"show-model-properties":return this._view.showModelProperties();case"show-node-documentation":return this._view.showNodeDocumentation(s);case"ready":return this._ready?this.status("ready"):void 0}}}),!1),this._ready=!0,this.status("ready")}message(e,t){window.parent&&window.parent.postMessage({type:e,data:t},"*")}status(e){this.message("status",e)}selectNodeId(e){this.message("nodeId",e)}selectItems(e){this.message("selectItem",e)}error(e,t){this.message("error",("Error"===e?"":e+" ")+t)}confirm(e,t){const s=confirm(e+" "+t);return s||this.message("cancel"),s}require(e){const t=this._url(e+".js");return window.__modules__=window.__modules__||{},window.__modules__[t]?Promise.resolve(window.__exports__[t]):new Promise(((s,i)=>{window.module={exports:{}};const n=document.createElement("script");n.setAttribute("id",e),n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.onload=()=>{const t=window.module.exports;delete window.module,window.__modules__[e]=t,s(t)},n.onerror=e=>{delete window.module,i(new Error("The script '"+e.target.src+"' failed to load."))},this.document.head.appendChild(n)}))}save(e,t,s,i){i(s+"."+t)}export(e,t){const s=this.document.createElement("a");s.download=e,s.href=URL.createObjectURL(t),this.document.body.appendChild(s),s.click(),this.document.body.removeChild(s)}request(e,t,s){const i=e?e+"/"+t:this._url(t);return this._request(i,null,s)}_changeFiles(e){if(console.log("files",e),e&&e?.length){if(console.log("files.length",e.length),!(e=Array.from(e)).find((e=>this._view.accept(e.name))))return void this.error("Error opening file.","Cannot open file "+e[0].name);this._open(e.find((e=>this._view.accept(e.name))),e)}}_request(e,t,s,i){return new Promise(((n,o)=>{const r=new XMLHttpRequest;s||(r.responseType="arraybuffer"),i&&(r.timeout=i);const a=t=>{const s=new Error("The web request failed with status code "+t+" at '"+e+"'.");return s.type="error",s.url=e,s};if(r.onload=()=>{200==r.status?"arraybuffer"==r.responseType?n(new Uint8Array(r.response)):n(r.responseText):o(a(r.status))},r.onerror=e=>{const t=a(r.status);t.type=e.type,o(t)},r.ontimeout=()=>{r.abort();const t=new Error("The web request timed out in '"+e+"'.");t.type="timeout",t.url=e,o(t)},r.open("GET",e,!0),t)for(const e of Object.keys(t))r.setRequestHeader(e,t[e]);r.send()}))}_url(e){let t=e;if(window&&window.location&&window.location.href){let s=window.location.href.split("?").shift();s.endsWith(".html")&&(s=s.split("/").slice(0,-1).join("/")),s.endsWith("/")&&(s=s.slice(0,-1)),t=s+"/"+e}return t}_open(e,t){this.status("loading");const s=new r(e,t);s.open().then((()=>this._view.open(s).then((e=>(this._view.actived&&this.status("rendered"),this.document.title=t[0].name,e))))).catch((e=>{this.error(e.name,e.message)}))}};if("undefined"==typeof TextDecoder&&(TextDecoder=function(e){this._encoding=e},TextDecoder.prototype.decode=function(e){let t="";const s=e.length;let i=0;switch(this._encoding){case"utf-8":for(;i<s;){const s=e[i++];switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(s);break;case 12:case 13:{const n=e[i++];t+=String.fromCharCode((31&s)<<6|63&n);break}case 14:{const n=e[i++],o=e[i++];t+=String.fromCharCode((15&s)<<12|(63&n)<<6|(63&o)<<0);break}}}break;case"ascii":for(;i<s;)t+=String.fromCharCode(e[i++])}return t}),"undefined"==typeof TextEncoder){TextEncoder=function(){},TextEncoder.prototype.encode=function(e){"use strict";const t=e.length;let s=-1;const i="undefined"==typeof Uint8Array?new Array(2*t):new Uint8Array(3*t);for(let n=0,o=0,r=0;r!==t;){if(n=e.charCodeAt(r),r+=1,n>=55296&&n<=56319){if(r===t){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;break}if(o=e.charCodeAt(r),!(o>=56320&&o<=57343)){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;continue}if(n=1024*(n-55296)+o-56320+65536,r+=1,n>65535){i[s+=1]=240|n>>>18,i[s+=1]=128|n>>>12&63,i[s+=1]=128|n>>>6&63,i[s+=1]=128|63&n;continue}}n<=127?i[s+=1]=0|n:n<=2047?(i[s+=1]=192|n>>>6,i[s+=1]=128|63&n):(i[s+=1]=224|n>>>12,i[s+=1]=128|n>>>6&63,i[s+=1]=128|63&n)}return"undefined"!=typeof Uint8Array?new Uint8Array(i.buffer.slice(0,s+1)):i.length===s+1?i:i.slice(0,s+1)},TextEncoder.prototype.toString=function(){return"[object TextEncoder]"};try{Object.defineProperty(TextEncoder.prototype,"encoding",{get:function(){if(Object.prototype.isPrototypeOf.call(TextEncoder.prototype,this))return"utf-8";throw TypeError("Illegal invocation")}})}catch(e){TextEncoder.prototype.encoding="utf-8"}"undefined"!=typeof Symbol&&(TextEncoder.prototype[Symbol.toStringTag]="TextEncoder")}"undefined"==typeof URLSearchParams&&(URLSearchParams=function(e){const t=e=>e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(e=>decodeURIComponent(e)));if(this._dict={},"string"==typeof e){const s=(e=0===e.indexOf("?")?e.substring(1):e).split("&");for(const e of s){const s=e.indexOf("="),i=t(s>-1?e.substring(0,s):e),n=s>-1?t(e.substring(s+1)):"";Object.prototype.hasOwnProperty.call(this._dict,i)||(this._dict[i]=[]),this._dict[i].push(n)}}},URLSearchParams.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this._dict,e)?this._dict[e][0]:null}),HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(e,t,s){setTimeout((()=>{const i=atob(this.toDataURL(t,s).split(",")[1]),n=i.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=i.charCodeAt(e);e(new Blob([o],{type:t||"image/png"}))}),0)});class r{constructor(e,t){this._file=e,this._blobs={};for(const e of t)this._blobs[e.name]=e}get identifier(){return this._file.name}get buffer(){return this._buffer}open(){return this.request(this._file.name,null).then((e=>{this._buffer=e}))}request(e,t){const s=this._blobs[e];return s?new Promise(((i,n)=>{const o=new FileReader;o.onload=e=>{i(t?e.target.result:new Uint8Array(e.target.result))},o.onerror=t=>{let s="";switch((t=t||window.event).target.error.code){case t.target.error.NOT_FOUND_ERR:s="File not found '"+e+"'.";break;case t.target.error.NOT_READABLE_ERR:s="File not readable '"+e+"'.";break;case t.target.error.SECURITY_ERR:s="File access denied '"+e+"'.";break;default:s="File read '"+t.target.error.code.toString()+"' error '"+e+"'."}n(new Error(s))},"utf-8"===t?o.readAsText(s,t):o.readAsArrayBuffer(s)})):Promise.reject(new Error("File not found '"+e+"'."))}}const a=function(e){let t=e.lastIndexOf("/");return e.substring(t+1,e.length)}(document.referrer);window.__view__="static_graph"===a||"x2paddle"===a?new n.View(new o):new i.View(new o)},42473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});const i={leaf_nodes:[{name:"layer",schema:{category:"container"}},{name:"layerlist",schema:{category:"container"}},{name:"parameterlist",schema:{category:"container"}},{name:"layerdict",schema:{category:"container"}},{name:"conv1d",schema:{category:"conv"}},{name:"conv1dtranspose",schema:{category:"conv"}},{name:"conv2d",schema:{category:"conv"}},{name:"conv2dtranspose",schema:{category:"conv"}},{name:"conv3d",schema:{category:"conv"}},{name:"conv3dtranspose",schema:{category:"conv"}},{name:"adaptiveavgpool1d",schema:{category:"pool"}},{name:"adaptiveavgpool2d",schema:{category:"pool"}},{name:"adaptiveavgpool3d",schema:{category:"pool"}},{name:"adaptivemaxpool1d",schema:{category:"pool"}},{name:"adaptivemaxpool2d",schema:{category:"pool"}},{name:"adaptivemaxpool3d",schema:{category:"pool"}},{name:"avgpool1d",schema:{category:"pool"}},{name:"avgpool2d",schema:{category:"pool"}},{name:"avgpool3d",schema:{category:"pool"}},{name:"maxpool1d",schema:{category:"pool"}},{name:"maxpool2d",schema:{category:"pool"}},{name:"maxpool3d",schema:{category:"pool"}},{name:"maxunpool1d",schema:{category:"pool"}},{name:"maxunpool2d",schema:{category:"pool"}},{name:"maxunpool3d",schema:{category:"pool"}},{name:"pad1d",schema:{category:"pad"}},{name:"pad2d",schema:{category:"pad"}},{name:"pad3d",schema:{category:"pad"}},{name:"zeropad2d",schema:{category:"pad"}},{name:"celu",schema:{category:"activation"}},{name:"elu",schema:{category:"activation"}},{name:"gelu",schema:{category:"activation"}},{name:"hardshrink",schema:{category:"activation"}},{name:"hardsigmoid",schema:{category:"activation"}},{name:"hardswish",schema:{category:"activation"}},{name:"hardtanh",schema:{category:"activation"}},{name:"leakyrelu",schema:{category:"activation"}},{name:"logsigmoid",schema:{category:"activation"}},{name:"logsoftmax",schema:{category:"activation"}},{name:"maxout",schema:{category:"activation"}},{name:"prelu",schema:{category:"activation"}},{name:"relu",schema:{category:"activation"}},{name:"relu6",schema:{category:"activation"}},{name:"selu",schema:{category:"activation"}},{name:"sigmoid",schema:{category:"activation"}},{name:"silu",schema:{category:"activation"}},{name:"softmax",schema:{category:"activation"}},{name:"softplus",schema:{category:"activation"}},{name:"softshrink",schema:{category:"activation"}},{name:"softsign",schema:{category:"activation"}},{name:"swish",schema:{category:"activation"}},{name:"mish",schema:{category:"activation"}},{name:"tanh",schema:{category:"activation"}},{name:"tanhshrink",schema:{category:"activation"}},{name:"thresholdedrelu",schema:{category:"activation"}},{name:"batchnorm",schema:{category:"normalization"}},{name:"batchnorm1d",schema:{category:"normalization"}},{name:"batchnorm2d",schema:{category:"normalization"}},{name:"batchnorm3d",schema:{category:"normalization"}},{name:"groupnorm",schema:{category:"normalization"}},{name:"instancenorm1d",schema:{category:"normalization"}},{name:"instancenorm2d",schema:{category:"normalization"}},{name:"instancenorm3d",schema:{category:"normalization"}},{name:"layernorm",schema:{category:"normalization"}},{name:"localresponsenorm",schema:{category:"normalization"}},{name:"spectralnorm",schema:{category:"normalization"}},{name:"syncbatchnorm",schema:{category:"normalization"}},{name:"alphadropout",schema:{category:"normalization"}},{name:"dropout",schema:{category:"normalization"}},{name:"dropout2d",schema:{category:"normalization"}},{name:"dropout3d",schema:{category:"normalization"}},{name:"birnn",schema:{category:"sequence"}},{name:"gru",schema:{category:"sequence"}},{name:"grucell",schema:{category:"sequence"}},{name:"lstm",schema:{category:"sequence"}},{name:"lstmcell",schema:{category:"sequence"}},{name:"rnn",schema:{category:"sequence"}},{name:"rnncellbase",schema:{category:"sequence"}},{name:"simplernn",schema:{category:"sequence"}},{name:"simplernncell",schema:{category:"sequence"}},{name:"multiheadattention",schema:{category:"sequence"}},{name:"transformer",schema:{category:"sequence"}},{name:"transformerdecoder",schema:{category:"sequence"}},{name:"transformerdecoderlayer",schema:{category:"sequence"}},{name:"transformerencoder",schema:{category:"sequence"}},{name:"transformerencoderlayer",schema:{category:"sequence"}},{name:"linear",schema:{category:"sequence"}},{name:"embedding",schema:{category:"sequence"}},{name:"bceloss",schema:{category:"tensor"}},{name:"bcewithlogitsloss",schema:{category:"tensor"}},{name:"crossentropyloss",schema:{category:"tensor"}},{name:"ctcloss",schema:{category:"tensor"}},{name:"hsigmoidloss",schema:{category:"tensor"}},{name:"kldivloss",schema:{category:"tensor"}},{name:"l1loss",schema:{category:"tensor"}},{name:"marginrankingloss",schema:{category:"tensor"}},{name:"mseloss",schema:{category:"tensor"}},{name:"nllloss",schema:{category:"tensor"}},{name:"smoothl1loss",schema:{category:"tensor"}},{name:"pixelshuffle",schema:{category:"shape"}},{name:"upsample",schema:{category:"shape"}},{name:"upsamplingbilinear2d",schema:{category:"shape"}},{name:"upsamplingnearest2d",schema:{category:"shape"}},{name:"clipgradbyglobalnorm",schema:{category:"shape"}},{name:"clipgradbynorm",schema:{category:"shape"}},{name:"clipgradbyvalue",schema:{category:"shape"}},{name:"beamsearchdecoder",schema:{category:"shape"}},{name:"cosinesimilarity",schema:{category:"shape"}},{name:"dynamic_decode",schema:{category:"shape"}},{name:"flatten",schema:{category:"shape"}},{name:"pairwisedistance",schema:{category:"shape"}},{name:"identity",schema:{category:"shape"}},{name:"unfold",schema:{category:"shape"}},{name:"fold",schema:{category:"shape"}},{name:"conv2d_grad",schema:{category:"conv"}},{name:"conv2d_transpose_grad",schema:{category:"conv"}},{name:"depthwise_conv2d_transpose",schema:{category:"conv"}},{name:"depthwise_conv2d_transpose_grad",schema:{category:"conv"}},{name:"deformable_conv_grad",schema:{category:"conv"}},{name:"depthwise_conv2d",schema:{category:"conv"}},{name:"deformable_conv",schema:{category:"conv"}},{name:"conv2d_transpose",schema:{category:"conv"}},{name:"depthwise_conv2d_grad",schema:{category:"conv"}},{name:"pool2d",schema:{category:"pool"}},{name:"pool2d_grad",schema:{category:"pool"}},{name:"max_pool2d_with_index",schema:{category:"pool"}},{name:"max_pool2d_with_index_grad",schema:{category:"pool"}},{name:"pad3d_grad",schema:{category:"pad"}},{name:"relu6_grad",schema:{category:"activation"}},{name:"leaky_relu",schema:{category:"activation"}},{name:"leaky_relu_grad",schema:{category:"activation"}},{name:"hard_sigmoid",schema:{category:"activation"}},{name:"hard_sigmoid_grad",schema:{category:"activation"}},{name:"sigmoid_grad",schema:{category:"activation"}},{name:"batch_norm",schema:{category:"normalization"}},{name:"batch_norm_grad",schema:{category:"normalization"}},{name:"sync_batch_norm",schema:{category:"normalization"}},{name:"sync_batch_norm_grad",schema:{category:"normalization"}},{name:"norm_grad",schema:{category:"normalization"}},{name:"p_norm",schema:{category:"normalization"}},{name:"p_norm_grad",schema:{category:"normalization"}},{name:"group_norm_grad",schema:{category:"normalization"}},{name:"squared_l2_norm",schema:{category:"normalization"}},{name:"squared_l2_norm_grad",schema:{category:"normalization"}},{name:"group_norm",schema:{category:"normalization"}},{name:"norm",schema:{category:"normalization"}},{name:"rnn_grad",schema:{category:"sequence"}},{name:"sequence_mask",schema:{category:"sequence"}},{name:"one_hot",schema:{category:"sequence"}},{name:"one_hot_v2",schema:{category:"sequence"}},{name:"bce_loss",schema:{category:"tensor"}},{name:"bce_loss_grad",schema:{category:"tensor"}},{name:"huber_loss",schema:{category:"tensor"}},{name:"huber_loss_grad",schema:{category:"tensor"}},{name:"log_loss",schema:{category:"tensor"}},{name:"log_loss_grad",schema:{category:"tensor"}},{name:"smooth_l1_loss",schema:{category:"tensor"}},{name:"smooth_l1_loss_grad",schema:{category:"tensor"}},{name:"elementwise_add",schema:{category:"tensor"}},{name:"elementwise_add_grad",schema:{category:"tensor"}},{name:"cumsum",schema:{category:"tensor"}},{name:"clip",schema:{category:"tensor"}},{name:"clip_grad",schema:{category:"tensor"}},{name:"greater_equal",schema:{category:"tensor"}},{name:"greater_than",schema:{category:"tensor"}},{name:"less_equal",schema:{category:"tensor"}},{name:"logical_and",schema:{category:"tensor"}},{name:"logical_or",schema:{category:"tensor"}},{name:"momentum",schema:{category:"tensor"}},{name:"reduce_max",schema:{category:"tensor"}},{name:"reduce_mean",schema:{category:"tensor"}},{name:"reduce_prod",schema:{category:"tensor"}},{name:"seed",schema:{category:"tensor"}},{name:"sigmoid_cross_entropy_with_logits",schema:{category:"tensor"}},{name:"label_smooth",schema:{category:"tensor"}},{name:"where_index",schema:{category:"tensor"}},{name:"is_empty",schema:{category:"tensor"}},{name:"sigmoid_cross_entropy_with_logits_grad",schema:{category:"tensor"}},{name:"target_assign",schema:{category:"tensor"}},{name:"gradient_accumulator",schema:{category:"tensor"}},{name:"size",schema:{category:"tensor"}},{name:"where",schema:{category:"tensor"}},{name:"elementwise_pow_grad",schema:{category:"tensor"}},{name:"argsort",schema:{category:"tensor"}},{name:"argsort_grad",schema:{category:"tensor"}},{name:"rmsprop",schema:{category:"tensor"}},{name:"atan",schema:{category:"tensor"}},{name:"atan_grad",schema:{category:"tensor"}},{name:"flatten_contiguous_range",schema:{category:"tensor"}},{name:"crop",schema:{category:"tensor"}},{name:"eye",schema:{category:"tensor"}},{name:"matmul",schema:{category:"tensor"}},{name:"set_value",schema:{category:"tensor"}},{name:"exp",schema:{category:"tensor"}},{name:"exp_grad",schema:{category:"tensor"}},{name:"square_grad",schema:{category:"tensor"}},{name:"log_softmax",schema:{category:"tensor"}},{name:"log_softmax_grad",schema:{category:"tensor"}},{name:"matmul_grad",schema:{category:"tensor"}},{name:"assign_value",schema:{category:"tensor"}},{name:"top_k_v2",schema:{category:"tensor"}},{name:"arg_max",schema:{category:"tensor"}},{name:"cos",schema:{category:"tensor"}},{name:"sin",schema:{category:"tensor"}},{name:"index_sample",schema:{category:"shape"}},{name:"squeeze_grad",schema:{category:"shape"}},{name:"squeeze2_grad",schema:{category:"shape"}},{name:"stack_grad",schema:{category:"shape"}},{name:"tril_triu",schema:{category:"shape"}},{name:"unstack",schema:{category:"shape"}},{name:"unstack_grad",schema:{category:"shape"}},{name:"bilinear_interp_v2",schema:{category:"shape"}},{name:"bilinear_interp_v2_grad",schema:{category:"shape"}},{name:"nearest_interp_v2",schema:{category:"shape"}},{name:"nearest_interp_v2_grad",schema:{category:"shape"}},{name:"randperm",schema:{category:"shape"}},{name:"sampling_id",schema:{category:"shape"}},{name:"bipartite_match",schema:{category:"shape"}},{name:"box_coder",schema:{category:"shape"}},{name:"density_prior_box",schema:{category:"shape"}},{name:"distribute_fpn_proposals",schema:{category:"shape"}},{name:"generate_proposals_v2",schema:{category:"shape"}},{name:"meshgrid",schema:{category:"shape"}},{name:"mine_hard_examples",schema:{category:"shape"}},{name:"yolo_box",schema:{category:"shape"}},{name:"warpctc",schema:{category:"shape"}},{name:"warpctc_grad",schema:{category:"shape"}},{name:"iou_similarity",schema:{category:"shape"}},{name:"split",schema:{category:"shape"}},{name:"flatten2",schema:{category:"shape"}},{name:"flatten2_grad",schema:{category:"shape"}},{name:"masked_select_grad",schema:{category:"shape"}},{name:"strided_slice",schema:{category:"shape"}},{name:"prior_box",schema:{category:"shape"}},{name:"elementwise_max_grad",schema:{category:"shape"}},{name:"not_equal",schema:{category:"shape"}},{name:"strided_slice_grad",schema:{category:"shape"}},{name:"fill_any_like",schema:{category:"shape"}},{name:"hard_swish",schema:{category:"shape"}},{name:"hard_swish_grad",schema:{category:"shape"}},{name:"expand_v2",schema:{category:"shape"}},{name:"expand_v2_grad",schema:{category:"shape"}},{name:"flatten_contiguous_range_grad",schema:{category:"shape"}},{name:"gather_nd",schema:{category:"shape"}},{name:"gather_nd_grad",schema:{category:"shape"}},{name:"reciprocal",schema:{category:"shape"}},{name:"reciprocal_grad",schema:{category:"shape"}},{name:"index_select",schema:{category:"shape"}},{name:"roi_align",schema:{category:"shape"}},{name:"roi_align_grad",schema:{category:"shape"}},{name:"reduce_mean_grad",schema:{category:"shape"}},{name:"masked_select",schema:{category:"shape"}},{name:"index_select_grad",schema:{category:"shape"}},{name:"elementwise_min_grad",schema:{category:"shape"}},{name:"fill_constant_batch_size_like",schema:{category:"shape"}},{name:"unsqueeze2_grad",schema:{category:"shape"}},{name:"unique",schema:{category:"shape"}},{name:"expand_as_v2",schema:{category:"shape"}},{name:"tile",schema:{category:"shape"}},{name:"nearest_interp_grad",schema:{category:"shape"}}],non_leaf_nodes:[{name:"Layer",schema:{category:"container"}},{name:"LayerList",schema:{category:"container"}},{name:"ParameterList",schema:{category:"container"}},{name:"LayerDict",schema:{category:"container"}},{name:"Conv1D",schema:{category:"conv"}},{name:"Conv1DTranspose",schema:{category:"conv"}},{name:"Conv2D",schema:{category:"conv"}},{name:"Conv2DTranspose",schema:{category:"conv"}},{name:"Conv3D",schema:{category:"conv"}},{name:"Conv3DTranspose",schema:{category:"conv"}},{name:"AdaptiveAvgPool1D",schema:{category:"pool"}},{name:"AdaptiveAvgPool2D",schema:{category:"pool"}},{name:"AdaptiveAvgPool3D",schema:{category:"pool"}},{name:"AdaptiveMaxPool1D",schema:{category:"pool"}},{name:"AdaptiveMaxPool2D",schema:{category:"pool"}},{name:"AdaptiveMaxPool3D",schema:{category:"pool"}},{name:"AvgPool1D",schema:{category:"pool"}},{name:"AvgPool2D",schema:{category:"pool"}},{name:"AvgPool3D",schema:{category:"pool"}},{name:"MaxPool1D",schema:{category:"pool"}},{name:"MaxPool2D",schema:{category:"pool"}},{name:"MaxPool3D",schema:{category:"pool"}},{name:"MaxUnPool1D",schema:{category:"pool"}},{name:"MaxUnPool2D",schema:{category:"pool"}},{name:"MaxUnPool3D",schema:{category:"pool"}},{name:"Pad1D",schema:{category:"pad"}},{name:"Pad2D",schema:{category:"pad"}},{name:"Pad3D",schema:{category:"pad"}},{name:"ZeroPad2D",schema:{category:"pad"}},{name:"CELU",schema:{category:"activation"}},{name:"ELU",schema:{category:"activation"}},{name:"GELU",schema:{category:"activation"}},{name:"Hardshrink",schema:{category:"activation"}},{name:"Hardsigmoid",schema:{category:"activation"}},{name:"Hardswish",schema:{category:"activation"}},{name:"Hardtanh",schema:{category:"activation"}},{name:"LeakyReLU",schema:{category:"activation"}},{name:"LogSigmoid",schema:{category:"activation"}},{name:"LogSoftmax",schema:{category:"activation"}},{name:"Maxout",schema:{category:"activation"}},{name:"PReLU",schema:{category:"activation"}},{name:"ReLU",schema:{category:"activation"}},{name:"ReLU6",schema:{category:"activation"}},{name:"SELU",schema:{category:"activation"}},{name:"Sigmoid",schema:{category:"activation"}},{name:"Silu",schema:{category:"activation"}},{name:"Softmax",schema:{category:"activation"}},{name:"Softplus",schema:{category:"activation"}},{name:"Softshrink",schema:{category:"activation"}},{name:"Softsign",schema:{category:"activation"}},{name:"Swish",schema:{category:"activation"}},{name:"Mish",schema:{category:"activation"}},{name:"Tanh",schema:{category:"activation"}},{name:"Tanhshrink",schema:{category:"activation"}},{name:"ThresholdedReLU",schema:{category:"activation"}},{name:"BatchNorm",schema:{category:"normalization"}},{name:"BatchNorm1D",schema:{category:"normalization"}},{name:"BatchNorm2D",schema:{category:"normalization"}},{name:"BatchNorm3D",schema:{category:"normalization"}},{name:"GroupNorm",schema:{category:"normalization"}},{name:"InstanceNorm1D",schema:{category:"normalization"}},{name:"InstanceNorm2D",schema:{category:"normalization"}},{name:"InstanceNorm3D",schema:{category:"normalization"}},{name:"LayerNorm",schema:{category:"normalization"}},{name:"LocalResponseNorm",schema:{category:"normalization"}},{name:"SpectralNorm",schema:{category:"normalization"}},{name:"SyncBatchNorm",schema:{category:"normalization"}},{name:"AlphaDropout",schema:{category:"normalization"}},{name:"Dropout",schema:{category:"normalization"}},{name:"Dropout2D",schema:{category:"normalization"}},{name:"Dropout3D",schema:{category:"normalization"}},{name:"BiRNN",schema:{category:"sequence"}},{name:"GRU",schema:{category:"sequence"}},{name:"GRUCell",schema:{category:"sequence"}},{name:"LSTM",schema:{category:"sequence"}},{name:"LSTMCell",schema:{category:"sequence"}},{name:"RNN",schema:{category:"sequence"}},{name:"RNNCellBase",schema:{category:"sequence"}},{name:"SimpleRNN",schema:{category:"sequence"}},{name:"SimpleRNNCell",schema:{category:"sequence"}},{name:"MultiHeadAttention",schema:{category:"sequence"}},{name:"Transformer",schema:{category:"sequence"}},{name:"TransformerDecoder",schema:{category:"sequence"}},{name:"TransformerDecoderLayer",schema:{category:"sequence"}},{name:"TransformerEncoder",schema:{category:"sequence"}},{name:"TransformerEncoderLayer",schema:{category:"sequence"}},{name:"Linear",schema:{category:"sequence"}},{name:"Embedding",schema:{category:"sequence"}},{name:"BCELoss",schema:{category:"tensor"}},{name:"BCEWithLogitsLoss",schema:{category:"tensor"}},{name:"CrossEntropyLoss",schema:{category:"tensor"}},{name:"CTCLoss",schema:{category:"tensor"}},{name:"HSigmoidLoss",schema:{category:"tensor"}},{name:"KLDivLoss",schema:{category:"tensor"}},{name:"L1Loss",schema:{category:"tensor"}},{name:"MarginRankingLoss",schema:{category:"tensor"}},{name:"MSELoss",schema:{category:"tensor"}},{name:"NLLLoss",schema:{category:"tensor"}},{name:"SmoothL1Loss",schema:{category:"tensor"}},{name:"PixelShuffle",schema:{category:"shape"}},{name:"Upsample",schema:{category:"shape"}},{name:"UpsamplingBilinear2D",schema:{category:"shape"}},{name:"UpsamplingNearest2D",schema:{category:"shape"}},{name:"ClipGradByGlobalNorm",schema:{category:"shape"}},{name:"ClipGradByNorm",schema:{category:"shape"}},{name:"ClipGradByValue",schema:{category:"shape"}},{name:"BeamSearchDecoder",schema:{category:"shape"}},{name:"CosineSimilarity",schema:{category:"shape"}},{name:"dynamic_decode",schema:{category:"shape"}},{name:"Flatten",schema:{category:"shape"}},{name:"PairwiseDistance",schema:{category:"shape"}},{name:"Identity",schema:{category:"shape"}},{name:"Unfold",schema:{category:"shape"}},{name:"Fold",schema:{category:"shape"}}]}},74872:(e,t,s)=>{const i={},n={Long:s(27808)},o=s(13917);i.NodeSidebar=class{constructor(e,t){this._host=e,this._node=t,this._properties=[],this._attributes=[],this._inputs=[],this._outputs=[],t.type&&this._addProperty("type",new i.ValueTextView(this._host,t.type,{documentation:!!t.metadata})),t.name&&this._addProperty("name",new i.ValueTextView(this._host,t.name)),t.location&&this._addProperty("location",new i.ValueTextView(this._host,t.location)),t.domain&&this._addProperty("domain",new i.ValueTextView(this._host,t.domain)),t.description&&this._addProperty("description",new i.ValueTextView(this._host,t.description)),t.device&&this._addProperty("device",new i.ValueTextView(this._host,t.device));const s=t.attributes;if(s&&s.length>0){const e=t.attributes.slice();e.sort(((e,t)=>{const s=e.name.toUpperCase(),i=t.name.toUpperCase();return s<i?-1:s>i?1:0}));for(const t of e)this._addAttribute(t.name,t)}const n=t.inputs;if(n&&n.length>0)for(const e of n)this._addInput(e.name,e);const o=t.outputs;if(o&&o.length>0)for(const e of o)this._addOutput(e.name,e)}render(){return{properties:this._properties,groups:[{name:"attributes",properties:this._attributes},{name:"inputs",properties:this._inputs},{name:"outputs",properties:this._outputs}]}}_addProperty(e,t){const s=new i.NameValueView(this._host,e,t);this._properties.push(s.render())}_addAttribute(e,t){const s=new i.NameValueView(this._host,e,new r(this._host,t));this._attributes.push(s.render())}_addInput(e,t){if(t.arguments.length>0){const s=new i.ParameterView(this._host,t),n=new i.NameValueView(this._host,e,s);this._inputs.push(n.render())}}_addOutput(e,t){if(t.arguments.length>0){const s=new i.ParameterView(this._host,t),n=new i.NameValueView(this._host,e,s);this._outputs.push(n.render())}}static formatAttributeValue(e,t,s){if("function"==typeof e)return e();if(e&&n.Long.isLong(e))return e.toString();if(Number.isNaN(e))return"NaN";switch(t){case"shape":return e.toString();case"shape[]":return e?e.map((e=>e.toString())).join(", "):"(null)";case"graph":return e.toString();case"graph[]":return e?e.map((e=>e.toString())).join(", "):"(null)";case"tensor":return e&&e.type&&e.type.shape&&e.type.shape.dimensions&&0==e.type.shape.dimensions.length?e.toString():"[...]"}if("string"==typeof e&&(!t||"string"!=t))return s?'"'+e+'"':e;if(Array.isArray(e)){if(0==e.length)return s?"[]":"";let t=!1;e.length>1e3&&(e=e.slice(0,1e3),t=!0);const o=e.map((e=>e&&n.Long.isLong(e)?e.toString():Number.isNaN(e)?"NaN":i.NodeSidebar.formatAttributeValue(e,null,!0)));return t&&o.push(""),s?["[",o.join(", "),"]"].join(" "):o.join(", ")}if(null===e)return s?"null":"";if(void 0===e)return"undefined";if(e!==Object(e))return e.toString();const o=[],r=Object.keys(e).filter((e=>!e.startsWith("__")&&!e.endsWith("__")));if(1==r.length)o.push(i.NodeSidebar.formatAttributeValue(e[Object.keys(e)[0]],null,!0));else for(const t of r)o.push(t+": "+i.NodeSidebar.formatAttributeValue(e[t],null,!0));let a=e.__type__;if(!a&&e.constructor.name&&"Object"!==e.constructor.name&&(a=e.constructor.name),a)return a+(0==o.length?"()":["(",o.join(", "),")"].join(""));switch(o.length){case 0:return s?"()":"";case 1:return o[0];default:return s?["(",o.join(", "),")"].join(" "):o.join(", ")}}},i.NameValueView=class{constructor(e,t,s){this._host=e,this._name=t,this._value=s,this._element={name:t,values:s.render()}}get name(){return this._name}render(){return this._element}},i.ValueTextView=class{constructor(e,t,s){this._host=e,this._elements=[],this._elements.push(Object.assign({value:t},s))}render(){return this._elements}};class r{constructor(e,t){this._host=e,this._attribute=t,this._element={},t.type&&(this._element.children=this.renderChildren());let s=i.NodeSidebar.formatAttributeValue(this._attribute.value,this._attribute.type);s&&s.length>1e3&&(s=s.substring(0,1e3)+""),this._element.value=s||" "}render(){return[this._element]}renderChildren(){const e=[];this._host.document.createElement("div").className="sidebar-view-item-value-line-border";const t=this._attribute.type,s=this._attribute.value;"tensor"==t&&s&&s.type?e.push({name:"type",value:s.type.toString(),type:"code"}):e.push({name:"type",value:this._attribute.type,type:"code"});const i=this._attribute.description;if(i&&e.push({value:i}),"tensor"==this._attribute.type&&s){const t=s.state;e.push({value:t||s.toString(),type:"raw"})}return e}}i.ParameterView=class{constructor(e,t){this._list=t,this._elements=[],this._items=[];for(const s of t.arguments){const t=new i.ArgumentView(e,s);this._items.push(t),this._elements.push(t.render())}}render(){return this._elements}},i.ArgumentView=class{constructor(e,t){this._host=e,this._argument=t,this._element={};const s=t.initializer,i=t.quantization;(t.type||s||i)&&(this._element.children=this.renderChildren());let n=this._argument.name||"";if(this._hasId=!!n,s&&!this._hasId)this._element.name="kind",this._element.value=s.kind;else{if("string"!=typeof n)throw new Error("Invalid argument identifier '"+JSON.stringify(n)+"'.");n=n.split("\n").shift(),this._element.name="name",this._element.value=n||" "}}render(){return this._element}renderChildren(){const e=[];let t="?",s=null;this._argument.type&&(t=this._argument.type.toString(),s=this._argument.type.denotation||null),t&&e.push({name:"type",value:t,type:"code"}),s&&e.push({name:"denotation",value:s,type:"code"});const i=this._argument.description;i&&e.push({name:"description",value:i});const n=this._argument.quantization;n&&e.push({name:"quantization",value:n}),this._argument.location&&e.push({name:"location",value:this._argument.location});const o=this._argument.initializer;if(o){o.reference&&e.push({name:"reference",value:this._argument.reference});const t=o.state;let s="";try{s=t||o.toString()}catch(e){s=e.toString(),this._host.exception(e,!1)}e.push({value:s,type:"raw"})}return e}},i.ModelSidebar=class{constructor(e,t,s){this._host=e,this._model=t,this._properties=[],this._groups=[],this._model.format&&this._addProperty("format",new i.ValueTextView(this._host,this._model.format)),this._model.producer&&this._addProperty("producer",new i.ValueTextView(this._host,this._model.producer)),this._model.source&&this._addProperty("source",new i.ValueTextView(this._host,this._model.source)),this._model.name&&this._addProperty("name",new i.ValueTextView(this._host,this._model.name)),this._model.version&&this._addProperty("version",new i.ValueTextView(this._host,this._model.version)),this._model.description&&this._addProperty("description",new i.ValueTextView(this._host,this._model.description)),this._model.author&&this._addProperty("author",new i.ValueTextView(this._host,this._model.author)),this._model.company&&this._addProperty("company",new i.ValueTextView(this._host,this._model.company)),this._model.license&&this._addProperty("license",new i.ValueTextView(this._host,this._model.license)),this._model.domain&&this._addProperty("domain",new i.ValueTextView(this._host,this._model.domain)),this._model.imports&&this._addProperty("imports",new i.ValueTextView(this._host,this._model.imports)),this._model.runtime&&this._addProperty("runtime",new i.ValueTextView(this._host,this._model.runtime));const n=this._model.metadata;if(n)for(const e of n)this._addProperty(e.name,new i.ValueTextView(this._host,e.value));if(this._model&&this._addProperty("subgraph",new i.ValueTextView(this._host,s.name)),s){if(s.version&&this._addProperty("version",new i.ValueTextView(this._host,s.version)),s.type&&this._addProperty("type",new i.ValueTextView(this._host,s.type)),s.tags&&this._addProperty("tags",new i.ValueTextView(this._host,s.tags)),s.description&&this._addProperty("description",new i.ValueTextView(this._host,s.description)),s.inputs.length)for(const e of s.inputs)this._addGroupProperty("inputs",e.name,e);if(s.outputs.length)for(const e of s.outputs)this._addGroupProperty("outputs",e.name,e)}}render(){return{properties:this._properties,groups:this._groups}}_addGroupProperty(e,t,s){const i=this._groups.find((t=>t.name===e));i?i.properties.push(this._addArgument(t,s)):this._groups.push({name:e,properties:[this._addArgument(t,s)]})}_addProperty(e,t){const s=new i.NameValueView(this._host,e,t);this._properties.push(s.render())}_addArgument(e,t){const s=new i.ParameterView(this._host,t);return new i.NameValueView(this._host,e,s).render()}},i.DocumentationSidebar=class{constructor(e,t){this._host=e,this._metadata=t}render(){return i.DocumentationSidebar.formatDocumentation(this._metadata)}static formatDocumentation(e){if(e){if((e=JSON.parse(JSON.stringify(e))).summary&&(e.summary=o(e.summary)),e.description&&(e.description=o(e.description)),e.attributes)for(const t of e.attributes)t.description&&(t.description=o(t.description));if(e.inputs)for(const t of e.inputs)t.description&&(t.description=o(t.description));if(e.outputs)for(const t of e.outputs)t.description&&(t.description=o(t.description));if(e.references)for(const t of e.references)t&&(t.description=o(t.description));return e}return""}},i.FindSidebar=class{constructor(e,t,s){this._host=e,this._graphElement=t,this._graph=s}static selection(e,t){const s=[],i=e.id,n=t.getElementById("nodes");if(n){let e=n.firstChild;for(;e;)e.id==i&&s.push(e),e=e.nextSibling}const o=t.getElementById("clusters");if(o){let e=o.firstChild;for(;e;)e.id==i&&s.push(e),e=e.nextSibling}const r=t.getElementById("edge-paths");if(r){let e=r.firstChild;for(;e;)e.id===i&&s.push(e),e=e.nextSibling}let a=t.getElementById(i);if(a)for(;a.parentElement;)if(a=a.parentElement,a.id&&a.id.startsWith("node-")){s.push(a);break}return s.length>0?s:null}static selection2(e,t){const s=[],i=e.id,n=t.getElementById("nodes");if(n){let e=n.firstChild;for(;e;)e.id==i&&s.push(e),e=e.nextSibling}const o=t.getElementById("clusters");if(o){let e=o.firstChild;for(;e;)e.id==i&&s.push(e),e=e.nextSibling}const r=t.getElementById("edge-paths");if(r){let t=r.firstChild;for(;t;)t.id===i&&(e.fromnode&&t.getAttribute("fromnode")===e.fromnode&&s.push(t),e.tonode&&t.getAttribute("tonode")===e.tonode&&s.push(t)),t=t.nextSibling}let a=t.getElementById(i);if(a)for(;a.parentElement;)if(a=a.parentElement,a.id&&a.id.startsWith("node-")){s.push(a);break}return s.length>0?s:null}update(e){const t=e.toLowerCase(),s=new Set,i=new Set,n=[];for(const e of this._graph.nodes){const o=[];for(const s of e.inputs)for(const e of s.arguments)e.name&&-1!=e.name.toLowerCase().indexOf(t)&&!i.has(e.name)&&(e.initializer||(n.push({type:"input",name:e.name.split("\n").shift(),id:"edge-"+e.name}),i.add(e.name)));const r=e.name;console.log("name",e);const a=e.type;!s.has(r)&&r&&(-1!=r.toLowerCase().indexOf(t)||a&&-1!=a.toLowerCase().indexOf(t))&&(n.push({type:"node",name:r,id:"node-"+r}),s.add(r));for(const e of o)n.push({type:"initializer",name:e.name,id:"initializer-"+e.name})}for(const e of this._graph.nodes)for(const s of e.outputs)for(const e of s.arguments)e.name&&-1!=e.name.toLowerCase().indexOf(t)&&!i.has(e.name)&&(n.push({type:"output",name:e.name.split("\n").shift(),id:"edge-"+e.name}),i.add(e.name));return{text:e,result:n}}},"object"==typeof e.exports&&(e.exports.Sidebar=i.Sidebar,e.exports.ModelSidebar=i.ModelSidebar,e.exports.NodeSidebar=i.NodeSidebar,e.exports.DocumentationSidebar=i.DocumentationSidebar,e.exports.FindSidebar=i.FindSidebar)},74913:(e,t,s)=>{var i=i||{},n=n||s(46506);i.Renderer=class{constructor(e,t,s){this._document=e.document,this._svgElement=t,this._host=e,this._view=s}render(e){let t=null,s=null,o=null,r=null;t=this.createElement("g"),t.setAttribute("id","clusters"),t.setAttribute("class","clusters"),this._svgElement.appendChild(t),s=this.createElement("g"),s.setAttribute("id","edge-paths"),s.setAttribute("class","edge-paths"),this._svgElement.appendChild(s),o=this.createElement("g"),o.setAttribute("id","edge-labels"),o.setAttribute("class","edge-labels"),this._svgElement.appendChild(o),r=this.createElement("g"),r.setAttribute("id","nodes"),r.setAttribute("class","nodes"),this._svgElement.appendChild(r);for(const t of e.nodes())if(0==e.children(t).length){const s=e.node(t);if(this._view._nodes.hasOwnProperty(s.id)){r.appendChild(this._view._nodes[s.id]);const e=this._view._nodes[s.id].getBBox();s.width=e.width,s.height=e.height,s.element=this._view._nodes[s.id]}else{const e=this.createElement("g");s.id&&e.setAttribute("id",s.id),e.setAttribute("class",Object.prototype.hasOwnProperty.call(s,"class")?"node "+s.class:"node"),e.style.opacity=0;const t=this.createElement("g");t.appendChild(s.label),e.appendChild(t),r.appendChild(e);const i=s.label.getBBox(),n=-i.width/2,o=-i.height/2;t.setAttribute("transform","translate("+n+","+o+")"),s.width=i.width,s.height=i.height,s.element=e}}for(const t of e.edges()){const s=e.edge(t);if(s.label){const e=this.createElement("tspan");e.setAttribute("xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.appendChild(this._document.createTextNode(s.label));const t=this.createElement("text");t.appendChild(e);const i=this.createElement("g");i.appendChild(t);const n=this.createElement("g");n.style.opacity=0,n.setAttribute("class","edge-label"),n.appendChild(i),o.appendChild(n);const r=i.getBBox(),a=-r.width/2,h=-r.height/2;i.setAttribute("transform","translate("+a+","+h+")"),s.width=r.width,s.height=r.height,s.labelElement=n}}n.layout(e);for(const t of e.nodes())if(0==e.children(t).length){const s=e.node(t);s.element.setAttribute("transform","translate("+s.x+","+s.y+")"),s.element.style.opacity=1,delete s.element}for(const t of e.edges()){const s=e.edge(t);s.labelElement&&(s.labelElement.setAttribute("transform","translate("+s.x+","+s.y+")"),s.labelElement.style.opacity=1,delete s.labelElement)}const a=this.createElement("defs");s.appendChild(a);const h=this.createElement("marker");h.setAttribute("id","arrowhead-vee"),h.setAttribute("viewBox","0 0 10 10"),h.setAttribute("refX",9),h.setAttribute("refY",5),h.setAttribute("markerUnits","strokeWidth"),h.setAttribute("markerWidth",8),h.setAttribute("markerHeight",6),h.setAttribute("orient","auto"),a.appendChild(h);const c=this.createElement("path");c.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),c.style.setProperty("stroke-width",1),c.style.setProperty("stroke-dasharray","1,0"),h.appendChild(c);for(const t of e.edges()){const n=e.edge(t),o=i.Renderer._computeCurvePath(n,e.node(t.v),e.node(t.w)),r=this.createElement("path");r.setAttribute("class",Object.prototype.hasOwnProperty.call(n,"class")?"edge-path "+n.class:"edge-path"),r.setAttribute("d",o),r.setAttribute("marker-end","url(#arrowhead-vee)"),n.id&&r.setAttribute("id",n.id),n.fromnode&&r.setAttribute("fromnode",n.fromnode),n.tonode&&r.setAttribute("tonode",n.tonode),s.appendChild(r)}const l=[];for(const t of e.nodes())Number(t)||0===Number(t)||l.push(t);const m=l.sort(((e,t)=>e.split("/").length-t.split("/").length));for(const s of m)if(e.children(s).length>0){const n=e.node(s);if(this._view._clusters.hasOwnProperty(n.id)){const e=this._view._clusters.hasOwnProperty(n.id);e.setAttribute("transform","translate("+n.x+","+n.y+")"),e.firstChild.setAttribute("x",-n.width/2),e.firstChild.setAttribute("y",-n.height/2),e.firstChild.setAttribute("width",n.width+10),e.firstChild.setAttribute("height",n.height+10)}else{const e=this.createElement("g");e.setAttribute("class","cluster"),e.setAttribute("id",`node-${s}`),e.setAttribute("transform","translate("+n.x+","+n.y+")");const o=this.createElement("rect"),r=this.createElement("tspan"),a=this.createElement("circle"),h=this.createElement("tspan");a.setAttribute("r","6.5"),a.setAttribute("cx",n.width/2-20+7.5+10),a.setAttribute("cy",-n.height/2+5+7.5),h.setAttribute("x",n.width/2-15+9),h.setAttribute("y",-n.height/2+1.3),h.setAttribute("xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("font-size","16px"),h.setAttribute("class","button-text"),a.setAttribute("class","clusterButton"),r.setAttribute("xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x",0),r.setAttribute("y",-n.height/2+5),r.setAttribute("text-anchor","middle");let c="";for(const e of this._host._view._allGraph.nodes)e.name===n.nodeId&&(c=e.show_name.split("/")[e.show_name.split("/").length-1]);r.appendChild(this._document.createTextNode(c)),h.appendChild(this._document.createTextNode("-"));const l=this.createElement("text");l.appendChild(r);const m=this.createElement("text");m.appendChild(h),o.setAttribute("class",n.classList.join(" ")),o.setAttribute("x",-n.width/2),o.setAttribute("y",-n.height/2),o.setAttribute("width",n.width+10),o.setAttribute("height",n.height+10);const d=this.createElement("path");d.setAttribute("class",["cluster","border"].join(" ")),d.setAttribute("d",i.NodeElement.roundedRect2(-n.width/2,-n.height/2,n.width+10,n.height+10,!0,!0,!0,!0)),e.addEventListener("click",(()=>{this._view.select({id:`node-${s}`,name:s,type:"node"})})),m.addEventListener("click",(()=>{this._host.selectNodeId({nodeId:n.nodeId,expand:n.expand,isKeepData:n.isKeepData}),this._host.selectItems({id:`node-${n.nodeId}`,name:n.nodeId,type:"node"})})),o.addEventListener("click",(()=>{if(this._view.isCtrl){for(const e of this._view._allGraph.nodes)if(e.name===n.nodeId){for(const t of this._view.non_graphMetadatas)t.name===e.type&&("zh"===this._view.Language?window.open(`https://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/nn/${t.name}_cn.html`):window.open(`https://www.paddlepaddle.org.cn/documentation/docs/en/api/paddle/nn/${t.name}_en.html`));return void this._view.showNodeProperties(e)}}else for(const e of this._view._allGraph.nodes)if(e.name===n.nodeId)return void this._view.showNodeProperties(e)})),n.rx&&o.setAttribute("rx",n.rx),n.ry&&o.setAttribute("ry",n.ry),e.appendChild(o),e.appendChild(l),e.appendChild(a),e.appendChild(m),e.appendChild(d),t.appendChild(e)}}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}static _computeCurvePath(e,t,s){const n=e.points.slice(1,e.points.length-1);n.unshift(i.Renderer.intersectRect(t,n[0])),n.push(i.Renderer.intersectRect(s,n[n.length-1]));const a=new o,h=new r(a);for(let e=0;e<n.length;e++){const t=n[e];0==e&&h.lineStart(),h.point(t.x,t.y),e==n.length-1&&h.lineEnd()}return a.data}static intersectRect(e,t){const s=e.x,i=e.y,n=t.x-s,o=t.y-i;let r,a,h=e.width/2,c=e.height/2;return Math.abs(o)*h>Math.abs(n)*c?(o<0&&(c=-c),r=0===o?0:c*n/o,a=c):(n<0&&(h=-h),r=h,a=0===n?0:h*o/n),{x:s+r,y:i+a}}},i.NodeElement=class{constructor(e){this._document=e,this._blocks=[]}block(e){switch(this._block=null,e){case"header":this._block=new i.NodeElement.Header(this._document);break;case"list":this._block=new i.NodeElement.List(this._document)}return this._blocks.push(this._block),this._block}format(e){const t=this.createElement("g");e.appendChild(t);let s=0,n=0;const o=[];for(const e of this._blocks)o.push(n),e.layout(t),s<e.width&&(s=e.width),n+=e.height;for(let e=0;e<this._blocks.length;e++){const i=o.shift();this._blocks[e].update(t,i,s,0==e,e==this._blocks.length-1)}const r=this.createElement("path");return r.setAttribute("class",["node","border"].join(" ")),r.setAttribute("d",i.NodeElement.roundedRect(0,0,s,n,!0,!0,!0,!0)),t.appendChild(r),e.innerHTML="",t}static roundedRect(e,t,s,i,n,o,r,a){return"M"+(e+(n=n?5:0))+","+t+"h"+(s-n-(o=o?5:0))+"a"+o+","+o+" 0 0 1 "+o+","+o+"v"+(i-o-(r=r?5:0))+"a"+r+","+r+" 0 0 1 "+-r+","+r+"h"+(r+(a=a?5:0)-s)+"a"+a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a+n)+"a"+n+","+n+" 0 0 1 "+n+","+-n+"z"}static roundedRect2(e,t,s,i,n,o,r,a){return"M"+(e+(n=n?10:0))+","+t+"h"+(s-n-(o=o?10:0))+"a"+o+","+o+" 0 0 1 "+o+","+o+"v"+(i-o-(r=r?10:0))+"a"+r+","+r+" 0 0 1 "+-r+","+r+"h"+(r+(a=a?10:0)-s)+"a"+a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a+n)+"a"+n+","+n+" 0 0 1 "+n+","+-n+"z"}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},i.NodeElement.Header=class{constructor(e){this._document=e,this._items=[]}add(e,t,s,i,n){this._items.push({id:e,classList:t,content:s,tooltip:i,handler:n})}layout(e){this._width=0,this._height=0,this._elements=[];let t=0;for(const s of this._items){const i=4,n=7,o=this.createElement("g");let r=["node-item"];e.appendChild(o);const a=this.createElement("path"),h=this.createElement("text");if(o.appendChild(a),o.appendChild(h),s.classList&&(r=r.concat(s.classList)),o.setAttribute("class",r.join(" ")),s.id&&o.setAttribute("id",s.id),s.handler&&o.addEventListener("click",s.handler),s.tooltip){const e=this.createElement("title");e.textContent=s.tooltip,o.appendChild(e)}s.content&&(h.textContent=s.content);const c=h.getBBox(),l=c.width+n+n,m=c.height+i+i;this._elements.push({group:o,text:h,path:a,x:t,y:0,width:l,height:m,tx:n,ty:i-c.y}),t+=l,this._height<m&&(this._height=m),t>this._width&&(this._width=t)}}get width(){return this._width}get height(){return this._height}update(e,t,s,n,o){const r=s-this._width;let a,h,c;for(a=0;a<this._elements.length;a++)h=this._elements[a],0==a?h.width=h.width+r:(h.x=h.x+r,h.tx=h.tx+r),h.y=h.y+t;for(a=0;a<this._elements.length;a++){h=this._elements[a],h.group.setAttribute("transform","translate("+h.x+","+h.y+")");const e=0==a&&n,t=a==this._elements.length-1&&n,s=a==this._elements.length-1&&o,r=0==a&&o;h.path.setAttribute("d",i.NodeElement.roundedRect(0,0,h.width,h.height,e,t,s,r)),h.text.setAttribute("x",7),h.text.setAttribute("y",h.ty-1)}for(a=0;a<this._elements.length;a++)h=this._elements[a],0!=a&&(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",h.x),c.setAttribute("x2",h.x),c.setAttribute("y1",t),c.setAttribute("y2",t+this._height),e.appendChild(c));n||(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",0),c.setAttribute("x2",s),c.setAttribute("y1",t),c.setAttribute("y2",t),e.appendChild(c))}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},i.NodeElement.List=class{constructor(e){this._document=e,this._items=[]}add(e,t,s,i,n){this._items.push({id:e,name:t,value:s,tooltip:i,separator:n})}get handler(){return this._handler}set handler(e){this._handler=e}layout(e){this._width=0,this._height=0,this._element=this.createElement("g"),this._element.setAttribute("class","node-attribute"),e.appendChild(this._element),this._handler&&this._element.addEventListener("click",this._handler),this._backgroundElement=this.createElement("path"),this._element.appendChild(this._backgroundElement),this._element.setAttribute("transform","translate(0,0)"),this._height+=3;for(const e of this._items){const t=1,s=6,i=this.createElement("text");if(e.id&&i.setAttribute("id",e.id),i.setAttribute("xml:space","preserve"),this._element.appendChild(i),e.tooltip){const t=this.createElement("title");t.textContent=e.tooltip,i.appendChild(t)}const n=this.createElement("tspan");n.textContent=e.name,"="!=e.separator.trim()&&(n.style.fontWeight="bold"),i.appendChild(n);const o=this.createElement("tspan");o.textContent=e.separator+e.value,i.appendChild(o);const r=i.getBBox(),a=s+r.width+s;this._width<a&&(this._width=a),i.setAttribute("x",0+s),i.setAttribute("y",this._height+t-r.y),this._height+=t+r.height+t}this._height+=3,this._width<100&&(this._width=100)}get width(){return this._width}get height(){return this._height}update(e,t,s,n,o){this._element.setAttribute("transform","translate(0,"+t+")");const r=n,a=n,h=o,c=o;if(this._backgroundElement.setAttribute("d",i.NodeElement.roundedRect(0,0,s,this._height,r,a,h,c)),!n){const e=this.createElement("line");e.setAttribute("class","node"),e.setAttribute("x1",0),e.setAttribute("x2",s),e.setAttribute("y1",0),e.setAttribute("y2",0),this._element.appendChild(e)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}};class o{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(e,t){this._data+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)}lineTo(e,t){this._data+="L"+(this._x1=+e)+","+(this._y1=+t)}bezierCurveTo(e,t,s,i,n,o){this._data+="C"+ +e+","+ +t+","+ +s+","+ +i+","+(this._x1=+n)+","+(this._y1=+o)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class r{constructor(e){this._context=e}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(e,t);break;default:this.curve(e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}curve(e,t){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6)}}"object"==typeof e.exports&&(e.exports.Renderer=i.Renderer,e.exports.NodeElement=i.NodeElement)},68513:(e,t,s)=>{const i=s(71681),n=s(63332),o=s(499),r=s(81600),a=s(71462),h=s(46506),c=s(74913),l=s(74872),m={},d=s(42473),{style:p}=s(71462);m.View=class{constructor(e){this._host=e,this._host.initialize(this).then((()=>{this.typeLayer={},this.Language="zh",this.graphMetadatas=[],this.non_graphMetadatas=[],this.isCtrl=!1,this._clusters={},this._nodeName={},this._nodes={},this._model=null,this._selection=[],this._selectItem=null,this._host.start(),this._showAttributes=!1,this._showInitializers=!0,this._showNames=!1,this._KeepData=!1,this._showHorizontal=!1,this._modelFactoryService=new m.ModelFactoryService(this._host),this._graphNodes={}})).catch((e=>{this.error(e.message,e)}))}cut(){this._host.document.execCommand("cut")}copy(){this._host.document.execCommand("copy")}paste(){this._host.document.execCommand("paste")}selectAll(){this._host.document.execCommand("selectall")}find(e){if(this._activeGraph){this.clearSelection();const t=document.getElementById("canvas");if(this._allGraph){const s=new l.FindSidebar(this._host,t,this._allGraph);this._host.message("search",s.update(e))}else{const s=new l.FindSidebar(this._host,t,this._activeGraph);this._host.message("search",s.update(e))}}}toggleAttributes(e){(null==e||e^this._showAttributes)&&(this._showAttributes=null==e?!this._showAttributes:e,this._nodes={},this._clusters={},this._reload())}get showAttributes(){return this._showAttributes}toggleInitializers(e){(null==e||e^this._showInitializers)&&(this._showInitializers=null==e?!this._showInitializers:e,this._nodes={},this._clusters={},this._reload())}get showInitializers(){return this._showInitializers}toggleNames(e){(null==e||e^this._showNames)&&(this._showNames=null==e?!this._showNames:e,this._nodes={},this._clusters={},this._reload())}toggleKeepData(e){(null==e||e^this._KeepData)&&(this._KeepData=null==e?!this._KeepData:e)}toggleLanguage(e){this.Language=e}get showNames(){return this._showNames}get KeepData(){return this._KeepData}toggleDirection(e){(null==e||e^this._showHorizontal)&&(this._showHorizontal=null==e?!this._showHorizontal:e,this._reload())}get showHorizontal(){return this._showHorizontal}toggleTheme(e){this._host.document.body.className=e}_reload(){this._host.status("loading"),this._model&&this._activeGraph&&this._updateGraph2(this._model,this._activeGraph).catch((e=>{e&&this.error("Graph update failed.",e)}))}_timeout(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}zoomIn(){this._zoom&&this._zoom.scaleBy(a.select(this._host.document.getElementById("canvas")),1.2)}zoomOut(){this._zoom&&this._zoom.scaleBy(a.select(this._host.document.getElementById("canvas")),.8)}selectItem(e){this._selectItem=e}resetZoom(){this._zoom&&this._zoom.scaleTo(a.select(this._host.document.getElementById("canvas")),1)}select(e){if(this.clearSelection(),"node"===e.type)for(const t of this._allGraph.nodes)if(t.name===e.name){this.showNodeProperties(t);break}const t=document.getElementById("canvas"),s=l.FindSidebar.selection(e,t);if(s&&s.length>0){const e=this._host.document.getElementById("canvas"),t=e.getBoundingClientRect();let i=0,n=0;for(const e of s){e.classList.add("select"),this._selection.push(e);const t=e.transform.baseVal.consolidate(),s=e.getBBox(),o=t?t.matrix.e:s.x+s.width/2,r=t?t.matrix.f:s.y+s.height/2;i+=o,n+=r}i/=s.length,n/=s.length,this._zoom.transform(a.select(e),a.zoomIdentity.translate(t.width/2-i,t.height/2-n))}}select2(e){const t=document.getElementById("canvas"),s=l.FindSidebar.selection2(e,t);if(s&&s.length>0)for(const e of s)this._selection.push(e),e.classList.add("select")}clearSelection(){for(;this._selection.length>0;)this._selection.pop().classList.remove("select")}error(e,t){this._host.error(e,t.toString())}accept(e){return this._modelFactoryService.accept(e)}open(e){return this._timeout(2).then((()=>this._modelFactoryService.open(e).then((e=>this._timeout(20).then((()=>{console.log("model.graphs.length",e.graphs.length);const t=e.graphs.length>0?e.graphs[0]:null;return this._host.message("opened",{graphs:e.graphs.map((e=>e.name||"")),selected:t&&(t.name||"")}),this._updateGraph2(t)}))))))}changeAlt(e){this.isCtrl=e,console.log("isCtrl",this.isCtrl)}keydown(){this._host.document.onkeydown=e=>{"MetaLeft"!==e.code&&"MetaRight"!==e.code&&"ControlLeft"!==e.code&&"AltLeft"!==e.code&&"AltRight"!==e.code||(this.isCtrl=!0)},this._host.document.onkeyup=e=>{"MetaLeft"!==e.code&&"MetaRight"!==e.code&&"ControlLeft"!==e.code&&"AltLeft"!==e.code&&"AltRight"!==e.code||(this.isCtrl=!1)}}changeGraph(e){this._updateActiveGraph(e)}changeAllGrap(e){this._allGraph=e;for(const t of e.nodes)this._nodeName[t.name]=t}changeSelect(e){this._selectItem=e}_updateActiveGraph(e){e&&(this._host.status("loading"),this._timeout(200).then((()=>this._updateGraph(e).catch((e=>{e&&this.error("Graph update failed.",e)})))))}_updateGraph(e){return this._timeout(100).then((()=>e&&e!=this._activeGraph&&e.nodes.length>1400&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?")?null:this.renderGraph(e,e).then((()=>(this._model=e,this._activeGraph=e,this._host.status("rendered"),this._model))).catch((e=>this.renderGraph(this._model,this._activeGraph).then((()=>{this._host.status("rendered")})).finally((()=>{throw e}))))))}_updateGraph2(e){return this._timeout(100).then((()=>{if(e&&e!=this._activeGraph){this._selectItem=null;const t=e.nodes;if(console.log("graphs",e),console.log("nodes.length",t),t.length>1400&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?"))return null}return this.renderGraph(e,e).then((()=>(this._model=e,this._activeGraph=e,this._host.status("rendered"),this._model))).catch((e=>this.renderGraph(this._model,this._activeGraph).then((()=>{this._host.status("rendered")})).finally((()=>{throw e}))))}))}jumpRoute(e){if(e.is_leaf){if(this.isCtrl)for(const t of this._allGraph.nodes)if(t.name===e.name)for(const t of this.non_graphMetadatas)t.name.toLowerCase()===e.type&&("zh"===this.Language?window.open(`https://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/nn/${t.name}_cn.html`):window.open(`https://www.paddlepaddle.org.cn/documentation/docs/en/api/paddle/nn/${t.name}_en.html`))}else if(this.isCtrl)for(const t of this._allGraph.nodes)if(t.name===e.name)for(const t of this.non_graphMetadatas)t.name===e.type&&window.open(`https://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/nn/${t.name}_cn.html`)}renderGraph(e,t){try{this.keydown(),this.graphMetadatas=d.default.leaf_nodes,this.non_graphMetadatas=d.default.non_leaf_nodes;const s={};for(const e of d.default.non_leaf_nodes)s[e.name]=!0;this.typeLayer=s;const i=this._host.document.getElementById("canvas");for(;i.lastChild;)i.removeChild(i.lastChild);if(t){this._zoom=null,i.style.position="absolute",i.style.margin="0";const s=!0,n={nodesep:65,ranksep:60};this._showHorizontal&&(n.rankdir="LR");const o=new h.graphlib.Graph({compound:s});o.setGraph(n),o.setDefaultEdgeLabel((()=>({})));let r=0;const m={},p={},g={};let _=(new Date).getTime(),f=t.nodes;if(f.length>1500&&(n.ranker="longest-path"),s)for(const e of f){let t=e.name.split("/");for(t.pop(),console.log("path.length",t.length);t.length>0;){const e=t.join("/");t.pop(),e&&(g[e]=t.join("/"))}}for(const t of f){let n=null;document.getElementById(`node-${t.name}`)||(n=new c.NodeElement(this._host.document));const a=(t,s,i)=>{if(!document.getElementById(`node-${s.name}`)){const i=t.block("header"),n=["node-item-type"],o=s.type;if(s.is_leaf)for(const e of this.graphMetadatas)s.type===e.name&&e.schema.category&&n.push("node-item-type-"+e.schema.category.toLowerCase());else for(const e of this.non_graphMetadatas)s.type===e.name&&e.schema.category&&n.push("node-item-type-"+e.schema.category.toLowerCase());if("string"!=typeof o||!o.split)throw new u("Unknown node type '"+JSON.stringify(o)+"' in '"+e.format+"'.");const r=s.name.split("/")[s.name.split("/").length-1],a=this.showNames&&s.name?r:o.split(".").pop(),h=this.showNames&&s.name?o:r;i.add(null,n,a,h,(()=>{this.jumpRoute(s),this.showNodeProperties(s),this.select({id:`node-${s.name}`,name:s.name,type:"node"});const e=s.inputs;for(const t of e)for(const e of t.arguments)""==e.name||e.initializer||this.select2({id:`edge-${e.name}`,name:e.name,type:"input",tonode:s.name});let t=s.outputs;if(s.chain&&s.chain.length>0){const e=s.chain[s.chain.length-1].outputs;e.length>0&&(t=e)}for(const e of t)for(const t of e.arguments)""!=t.name&&this.select2({id:`edge-${t.name}`,name:t.name,type:"input",fromnode:s.name})}));const c=["node-item-buttons"];s.is_leaf||i.add(null,c,"+",null,(()=>{this._host.selectNodeId({nodeId:s.name,expand:!0}),this._host.selectItems({id:`node-${s.name}`,name:s.name,type:"node"})}));const m=[];let d=!1;if(this._showInitializers)for(const e of s.inputs)e.visible&&1==e.arguments.length&&null!=e.arguments[0].initializer&&m.push(e),(!e.visible||e.arguments.length>1)&&e.arguments.some((e=>null!=e.initializer))&&(d=!0);let p=[];const g=s.attributes;if(this.showAttributes&&g&&(p=g.filter((e=>e.visible)).slice(),p.sort(((e,t)=>{const s=e.name.toUpperCase(),i=t.name.toUpperCase();return s<i?-1:s>i?1:0}))),m.length>0||d||p.length>0){const e=t.block("list");e.handler=()=>{this.jumpRoute(s),this.showNodeProperties(s),this.select({id:`node-${s.name}`,name:s.name,type:"node"});const e=s.inputs;for(const t of e)for(const e of t.arguments)""==e.name||e.initializer||this.select2({id:`edge-${e.name}`,name:e.name,type:"input",tonode:s.name});let t=s.outputs;if(s.chain&&s.chain.length>0){const e=s.chain[s.chain.length-1].outputs;e.length>0&&(t=e)}for(const e of t)for(const t of e.arguments)""!=t.name&&this.select2({id:`edge-${t.name}`,name:t.name,type:"input",fromnode:s.name})};for(const t of m){const s=t.arguments[0],i=s.type;let n="",o="";i&&i.shape&&i.shape.dimensions&&Object.prototype.hasOwnProperty.call(i.shape.dimensions,"length")&&(n=""+i.shape.dimensions.map((e=>e||"?")).join("")+"",0==i.shape.dimensions.length&&s.initializer&&!s.initializer.state&&(n=s.initializer.toString(),n&&n.length>10&&(n=n.substring(0,10)+""),o=" = ")),e.add("initializer-"+s.name,t.name,n,i?i.toString():"",o)}d&&e.add(null,"","",null,"");for(const t of p)if(t.visible){let s=l.NodeSidebar.formatAttributeValue(t.value,t.type);s&&s.length>25&&(s=s.substring(0,25)+""),e.add(null,t.name,s,t.type," = ")}}}if(i){const e=s.inputs;for(const t of e)for(const e of t.arguments)if(""!=e.name&&!e.initializer){let i=m[e.name];i||(i={from:null,to:[]},m[e.name]=i),i.to.push({node:r,name:t.name,nodename:s.name})}let t=s.outputs;if(s.chain&&s.chain.length>0){const e=s.chain[s.chain.length-1].outputs;e.length>0&&(t=e)}for(const e of t)for(const t of e.arguments)if(""!=t.name){let i=m[t.name];i||(i={from:null,to:[]},m[t.name]=i),i.from={node:r,name:e.name,type:t.type,nodename:s.name}}}if(s.chain&&s.chain.length>0)for(const e of s.chain)a(t,e,!1);s.inner&&a(t,s.inner,!1)};if(a(n,t,!0),t.controlDependencies&&t.controlDependencies.length>0)for(const e of t.controlDependencies){let s=m[e];s||(s={from:null,to:[]},m[e]=s),s.to.push({node:r,name:e,controlDependency:!0,nodename:t.name})}const h=t.name;document.getElementById(`node-${t.name}`)?o.setNode(r,{label:"node-"+h,id:"node-"+h}):h?o.setNode(r,{label:n.format(i),id:"node-"+h}):(o.setNode(r,{label:n.format(i),id:"node-"+_.toString()}),_++);const f=this._KeepData,y=(e,t)=>{const s=d.default.non_leaf_nodes,i=["clusterGroup"],n=t.show_name.split("/")[t.show_name.split("/").length-1];if(this._nodeName[e])for(const t of s)if(this._nodeName[e].type===t.name){i.push(`clusterGroup-${t.schema.category.toLowerCase()}`);break}let r=["clusterGroup"];if(i.length>1&&(r=["clusterGroup",i[1]]),!p[e]){o.setNode(e,{rx:10,ry:10,nodeId:e,showName:n,expand:!1,classList:r,isKeepData:f}),p[e]=!0;const s=g[e];s&&(y(s,t),o.setParent(e,s))}};if(s){let e=t.name.split("/");e.pop();let s=e.join("/");if(s&&s.length>0){if(!Object.prototype.hasOwnProperty.call(g,s)){const e=s.lastIndexOf("/");-1!=e?(s=s.substring(0,e),Object.prototype.hasOwnProperty.call(g,s)||(s=null)):s=null}s&&(y(s,t),o.setParent(r,s))}}this._graphNodes[t.name]=n,r++}for(const e of t.inputs){for(const t of e.arguments){let e=m[t.name];e||(e={from:null,to:[]},m[t.name]=e),e.from={node:r,type:t.type}}const t=e.arguments.map((e=>e.type||"")).join("\n");let s=e.name||"";s.length>16&&(s=s.split("/").pop());const n=new c.NodeElement(this._host.document);n.block("header").add(null,["graph-item-input"],s,t,(()=>{this.showModelProperties()})),o.setNode(r++,{label:n.format(i),class:"graph-input"})}for(const e of t.outputs){for(const t of e.arguments){let e=m[t.name];e||(e={from:null,to:[]},m[t.name]=e),e.to.push({node:r})}const t=e.arguments.map((e=>e.type||"")).join("\n");let s=e.name||"";s.length>16&&(s=s.split("/").pop());const n=new c.NodeElement(this._host.document);n.block("header").add(null,["graph-item-output"],s,t,(()=>{this.showModelProperties()})),o.setNode(r++,{label:n.format(i)})}for(const e of Object.keys(m)){const t=m[e];if(null!=t.from)for(const s of t.to){let i="";const n=t.from.type;n&&n.shape&&n.shape.dimensions&&n.shape.dimensions.length>0&&(i=n.shape.dimensions.join("")),this._showNames&&(i=e.split("\n").shift()),s.controlDependency?o.setEdge(t.from.node,s.node,{label:i,id:"edge-"+e,arrowhead:"vee",class:"edge-path-control-dependency",fromnode:t.from.nodename,tonode:s.nodename}):o.setEdge(t.from.node,s.node,{label:i,id:"edge-"+e,arrowhead:"vee",fromnode:t.from.nodename,tonode:s.nodename})}}const y=this._host.document.createElementNS("http://www.w3.org/2000/svg","rect");y.setAttribute("id","background"),y.setAttribute("width","100%"),y.setAttribute("height","100%"),y.setAttribute("fill","none"),y.setAttribute("pointer-events","all"),i.appendChild(y);const b=this._host.document.createElementNS("http://www.w3.org/2000/svg","g");b.setAttribute("id","origin"),i.appendChild(b);let w=null;return w=a.select(i),y.addEventListener("click",(()=>{this.clearSelection()})),this._zoom=a.zoom(),this._zoom(w),this._zoom.scaleExtent([.01,2]),this._zoom.on("zoom",(()=>{b.setAttribute("transform",a.event.transform.toString())})),this._zoom.transform(w,a.zoomIdentity),this._timeout(200).then((()=>{new c.Renderer(this._host,b,this).render(o);for(const e of document.getElementById("clusters").children)this._clusters[e.getAttribute("id")]=e;for(const e of document.getElementById("nodes").children)this._nodes[e.getAttribute("id")]=e;const e=i.getElementsByClassName("graph-input"),t=i.getBoundingClientRect();if(e&&e.length>0)if(this._selectItem)this.select(this._selectItem);else{const s=[],i=[];for(let t=0;t<e.length;t++){const n=e[t].transform.baseVal.consolidate().matrix;s.push(n.e),i.push(n.f)}let n=s[0];const o=i[0];i.every((e=>e==i[0]))&&(n=s.reduce(((e,t)=>e+t))/s.length);const r=t.width/(this._showHorizontal?4:2)-n,h=t.height/(this._showHorizontal?2:4)-o;this._zoom.transform(w,a.zoomIdentity.translate(r,h))}else this._selectItem?this.select(this._selectItem):this._zoom.transform(w,a.zoomIdentity.translate((t.width-o.graph().width)/2,(t.height-o.graph().height)/2))}))}return Promise.resolve()}catch(e){return Promise.reject(e)}}applyStyleSheet(e,t){let s=[];for(let e=0;e<this._host.document.styleSheets.length;e++){const i=this._host.document.styleSheets[e];if(i&&i.href&&i.href.endsWith("/"+t)){s=i.cssRules;break}}const i=e.getElementsByTagName("*");for(let e=0;e<i.length;e++){const t=i[e];for(let e=0;e<s.length;e++){const i=s[e];if(t.matches(i.selectorText))for(let e=0;e<i.style.length;e++){const s=i.style.item(e);t.style[s]=i.style[s]}}}}export(e){const t=e.lastIndexOf("."),s=-1!=t?e.substring(t+1):"";if(this._activeGraph&&("png"==s||"svg"==s)){const t=this._host.document.getElementById("canvas"),i=t.cloneNode(!0);this.applyStyleSheet(i,"style.css"),i.setAttribute("id","export"),i.removeAttribute("width"),i.removeAttribute("height"),i.style.removeProperty("opacity"),i.style.removeProperty("display");const n=i.querySelector("#background"),o=i.querySelector("#origin");o.setAttribute("transform","translate(0,0) scale(1)"),n.removeAttribute("width"),n.removeAttribute("height");const r=t.parentElement;r.insertBefore(i,t);const a=i.getBBox();r.removeChild(i),r.removeChild(t),r.appendChild(t);const h=Math.min(a.width,a.height)/2*.1,c=Math.ceil(h+a.width+h),l=Math.ceil(h+a.height+h);o.setAttribute("transform","translate("+h.toString()+", "+h.toString()+") scale(1)"),i.setAttribute("width",c),i.setAttribute("height",l),n.setAttribute("width",c),n.setAttribute("height",l),n.setAttribute("fill","#fff");const m=(new XMLSerializer).serializeToString(i);if("svg"===s){const t=new Blob([m],{type:"image/svg"});this._host.export(e,t)}else if("png"===s){const t=new Image;t.onload=()=>{const s=Math.max(c,l),i=2*s>24e3?24e3/s:2,n=this._host.document.createElement("canvas");n.width=Math.ceil(c*i),n.height=Math.ceil(l*i);const o=n.getContext("2d");o.scale(i,i),o.drawImage(t,0,0),this._host.document.body.removeChild(t),n.toBlob((t=>{if(t)this._host.export(e,t);else{const e=new Error;e.name="Error exporting image.",e.message="Image may be too large to render as PNG.",this._host.exception(e,!1),this._host.error(e.name,e.message)}}),"image/png")},t.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(m))),this._host.document.body.insertBefore(t,this._host.document.body.firstChild)}}}showModelProperties(){if(this._model){const e=new l.ModelSidebar(this._host,this._model,this._activeGraph);this._host.message("show-model-properties",e.render())}}showNodeProperties(e){if(e){const t=new l.NodeSidebar(this._host,e);this._host.message("show-node-properties",{...t.render(),metadata:e.metadata})}}showNodeDocumentation(e){const t=e.metadata;if(t){const e=new l.DocumentationSidebar(this._host,t);this._host.message("show-node-documentation",e.render())}}};class u extends Error{constructor(e,t){super(e),this.name="Error loading model.",this.telemetry=t}}class g{constructor(e){this._context=e,this._tags=new Map,this._entries=new Map}request(e,t){return this._context.request(e,t)}get identifier(){return this._context.identifier}get buffer(){return this._context.buffer}get text(){return this._text||(this._text=new TextDecoder("utf-8").decode(this.buffer)),this._text}entries(e){let t=this._entries.get(e);if(!t){t=[];try{const s=this.buffer;switch(e){case"zip":s&&s.length>2&&80==s[0]&&75==s[1]&&(t=new i.Archive(s).entries);break;case"tar":if(s.length>=512){let e=0;for(let t=0;t<512;t++)e+=t>=148&&t<156?32:s[t];let i="";for(let e=148;e<156&&0!==s[e];e++)i+=String.fromCharCode(s[e]);i=parseInt(i,8),isNaN(i)||e!=i||(t=new o.Archive(s).entries)}}}catch(e){t=[]}this._entries.set(e,t)}return t}tags(e){let t=this._tags.get(e);if(!t){t=new Map;try{switch(e){case"pbtxt":{const e=this.buffer,s=e.length;if(!(s>=3&&239===e[0]&&187===e[1]&&191===e[2]||s>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||s>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||s>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3]||s>=2&&254===e[0]&&255===e[1]||s>=2&&255===e[0]&&254===e[1])&&e.subarray(0,Math.min(1024,s)).some((e=>e<7||e>14&&e<32)))break;const i=r.TextReader.create(this.text);for(i.start(!1);!i.end(!1);){const e=i.tag();t.set(e,!0),i.skip()}break}case"pb":{const e=new Set([0,1,2,3,5]),s=r.Reader.create(this.buffer),i=s.next();for(;s.pos<i;){const i=s.uint32();if(t.set(i>>>3,7&i),!e.has(7&i)){t=new Map;break}try{s.skipType(7&i)}catch(e){t=new Map;break}}break}}}catch(e){t=new Map}this._tags.set(e,t)}return t}}class _{constructor(e,t,s,i){if(this._entries={},e)for(const i of e)if(i.name.startsWith(t)){const e=i.name.substring(t.length);s.length>0&&s.indexOf("/")<0&&(this._entries[e]=i)}this._identifier=s.substring(t.length),this._buffer=i}request(e,t){const s=this._entries[e];if(!s)return Promise.reject(new Error("File not found."));const i=t?new TextDecoder(t).decode(s.data):s.data;return Promise.resolve(i)}get identifier(){return this._identifier}get buffer(){return this._buffer}}class f extends Error{constructor(e){super(e),this.name="Error loading archive."}}m.ModelFactoryService=class{constructor(e){this._host=e,this._extensions=[],this.register("./onnx",[".onnx",".pb",".pbtxt",".prototxt"]),this.register("./mxnet",[".mar",".model",".json",".params"]),this.register("./keras",[".h5",".hd5",".hdf5",".keras",".json",".model",".pb",".pth"]),this.register("./coreml",[".mlmodel"]),this.register("./caffe",[".caffemodel",".pbtxt",".prototxt",".pt"]),this.register("./caffe2",[".pb",".pbtxt",".prototxt"]),this.register("./pytorch",[".pt",".pth",".pt1",".pkl",".h5",".t7",".model",".dms",".tar",".ckpt",".bin",".pb",".zip"]),this.register("./torch",[".t7"]),this.register("./tflite",[".tflite",".lite",".tfl",".bin",".pb",".tmfile",".h5",".model",".json"]),this.register("./tf",[".pb",".meta",".pbtxt",".prototxt",".json",".index",".ckpt"]),this.register("./mediapipe",[".pbtxt"]),this.register("./uff",[".uff",".pb",".trt",".pbtxt",".uff.txt"]),this.register("./sklearn",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5"]),this.register("./cntk",[".model",".cntk",".cmf",".dnn"]),this.register("./paddle",[".paddle",".pdmodel","__model__"]),this.register("./armnn",[".armnn"]),this.register("./bigdl",[".model",".bigdl"]),this.register("./darknet",[".cfg",".model"]),this.register("./mnn",[".mnn"]),this.register("./ncnn",[".param",".bin",".cfg.ncnn",".weights.ncnn"]),this.register("./tnn",[".tnnproto",".tnnmodel"]),this.register("./tengine",[".tmfile"]),this.register("./barracuda",[".nn"]),this.register("./openvino",[".xml",".bin"]),this.register("./flux",[".bson"]),this.register("./npz",[".npz",".h5",".hd5",".hdf5"]),this.register("./dl4j",[".zip"]),this.register("./mlnet",[".zip"])}register(e,t){for(const s of t)this._extensions.push({extension:s,id:e})}open(e){return this._openSignature(e).then((e=>this._openArchive(e).then((e=>{const t=(e=new g(e)).identifier,s=t.split(".").pop().toLowerCase(),i=this._filter(e);if(0==i.length)throw new u("Unsupported file extension '."+s+"'.");const n=[];let o=!1;const r=()=>{if(i.length>0){const t=i.shift();return this._host.require(t).then((s=>{if(!s.ModelFactory)throw new u("Failed to load module '"+t+"'.");const i=new s.ModelFactory;return i.match(e)?(o++,i.open(e,this._host).then((e=>e)).catch((e=>(n.push(e),r())))):r()}))}{if(o){if(1==n.length)throw n[0];throw new u(n.map((e=>e.message)).join("\n"))}const i=new Set(["natives_blob.bin","v8_context_snapshot.bin","snapshot_blob.bin","image_net_labels.json","package.json","models.json","LICENSE.meta","input_0.pb","output_0.pb"]).has(t),r=e.buffer,a=Array.from(r.subarray(0,Math.min(16,r.length))).map((e=>(e<16?"0":"")+e.toString(16))).join("");throw new u("Unsupported file content ("+a+") for extension '."+s+"' in '"+t+"'.",!i)}};return r()}))))}_openArchive(e){let t,s=null,r=e.identifier,a=e.buffer;try{if(t=r.split(".").pop().toLowerCase(),("gz"==t||"tgz"==t)&&(s=new n.Archive(a),1==s.entries.length)){const e=s.entries[0];e.name?r=e.name:(r=r.substring(0,r.lastIndexOf(".")),"tgz"==t&&(r+=".tar")),a=e.data}}catch(e){const t=e&&e.message?e.message:e.toString();return Promise.reject(new f(t.replace(/\.$/,"")+" in '"+r+"'."))}try{switch(t=r.split(".").pop().toLowerCase(),t){case"tar":{const e=[138,10,108,252,156,70,249,32,106,168,80,25];(!a||a.length<14||128!=a[0]||!e.every(((e,t)=>e==a[t+2])))&&(s=new o.Archive(a));break}case"zip":if(s=new i.Archive(a),s.entries.some((e=>"version"===e.name.split("/").pop().split("\\").pop()))&&s.entries.some((e=>"data.pkl"===e.name.split("/").pop().split("\\").pop())))return Promise.resolve(e);if(s.entries.some((e=>"coefficients.bin"===e.name.split("/").pop().split("\\").pop()))&&s.entries.some((e=>"configuration.json"===e.name.split("/").pop().split("\\").pop())))return Promise.resolve(e)}}catch(e){const t=e&&e.message?e.message:e.toString();return Promise.reject(new f(t.replace(/\.$/,"")+" in '"+r+"'."))}if(!s)return Promise.resolve(e);try{const i={};for(const e of s.entries)-1!=e.name.indexOf("/")?i[e.name.split("/").shift()+"/"]=!0:i["/"]=!0;"tar"==t&&delete i["PaxHeader/"];let n=1==Object.keys(i).length?Object.keys(i)[0]:"";n="/"==n?"":n;let o=[];const r=s.entries.slice(),a=()=>{if(r.length>0){const e=r.shift();if(e.name.startsWith(n)){const t=e.name.substring(n.length);if(t.length>0&&t.indexOf("/")<0&&!t.startsWith(".")){const t=new g(new _(null,n,e.name,e.data));let s=this._filter(t);const i=()=>{if(s.length>0){const n=s.shift();return this._host.require(n).then((r=>{if(!r.ModelFactory)throw new f("Failed to load module '"+n+"'.",null);return(new r.ModelFactory).match(t)&&(o.push(e),s=[]),i()}))}return a()};return i()}}return a()}{if(0==o.length)return Promise.resolve(e);if(2==o.length&&o.some((e=>e.name.endsWith(".params")))&&o.some((e=>e.name.endsWith("-symbol.json")))&&(o=o.filter((e=>e.name.endsWith(".params")))),o.length>1)return Promise.reject(new f("Archive contains multiple model files."));const t=o[0];return Promise.resolve(new g(new _(s.entries,n,t.name,t.data)))}};return a()}catch(e){return Promise.reject(new f(e.message))}}accept(e){e=e.toLowerCase();for(const t of this._extensions)if(e.endsWith(t.extension))return!0;return!!(e.endsWith(".zip")||e.endsWith(".tar")||e.endsWith(".tar.gz")||e.endsWith(".tgz"))}_filter(e){const t=e.identifier.toLowerCase(),s=this._extensions.filter((e=>t.endsWith(e.extension))).map((e=>e.id));return Array.from(new Set(s))}_openSignature(e){const t=e.buffer;if(0===e.buffer.length)return Promise.reject(new u("File has no content.",!0));const s=[{name:"ELF executable",value:/^\x7FELF/},{name:"Git LFS header",value:/^version https:\/\/git-lfs.github.com\/spec\/v1\n/},{name:"Git LFS header",value:/^oid sha256:/},{name:"HTML markup",value:/^\s*<html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE HTML>/},{name:"Unity metadata",value:/^fileFormatVersion:/},{name:"Vulkan SwiftShader ICD manifest",value:/^{\s*"file_format_version":\s*"1.0.0"\s*,\s*"ICD":/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*id:/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*name:/},{name:"Python source code",value:/^\s*import sys, types, os;/}],i=(new TextDecoder).decode(t.subarray(0,Math.min(1024,t.length)));for(const e of s)if(i.match(e.value))return Promise.reject(new u("Invalid file content. File contains "+e.name+".",!0));return Promise.resolve(e)}},"object"==typeof e.exports&&(e.exports.View=m.View,e.exports.ModelFactoryService=m.ModelFactoryService)},24137:(e,t,s)=>{const i=s(71681),n=s(63332),o=s(499),r=s(81600),a=s(71462),h=s(46506),c=s(19684),l=s(74872),m={View:class{constructor(e){this._host=e,this._host.initialize(this).then((()=>{this._model=null,this._selection=[],this._host.start(),this._showAttributes=!1,this._showInitializers=!0,this._showNames=!1,this._showHorizontal=!1,this._modelFactoryService=new m.ModelFactoryService(this._host)})).catch((e=>{this.error(e.message,e)}))}cut(){this._host.document.execCommand("cut")}copy(){this._host.document.execCommand("copy")}paste(){this._host.document.execCommand("paste")}selectAll(){this._host.document.execCommand("selectall")}find(e){if(this._activeGraph){this.clearSelection();const t=document.getElementById("canvas"),s=new l.FindSidebar(this._host,t,this._activeGraph);this._host.message("search",s.update(e))}}toggleAttributes(e){(null==e||e^this._showAttributes)&&(this._showAttributes=null==e?!this._showAttributes:e,this._reload())}get showAttributes(){return this._showAttributes}toggleInitializers(e){(null==e||e^this._showInitializers)&&(this._showInitializers=null==e?!this._showInitializers:e,this._reload())}get showInitializers(){return this._showInitializers}toggleNames(e){(null==e||e^this._showNames)&&(this._showNames=null==e?!this._showNames:e,this._reload())}get showNames(){return this._showNames}toggleDirection(e){(null==e||e^this._showHorizontal)&&(this._showHorizontal=null==e?!this._showHorizontal:e,this._reload())}get showHorizontal(){return this._showHorizontal}toggleTheme(e){this._host.document.body.className=e}_reload(){this._host.status("loading"),this._model&&this._activeGraph&&this._updateGraph(this._model,this._activeGraph).catch((e=>{e&&this.error("Graph update failed.",e)}))}_timeout(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}zoomIn(){this._zoom&&this._zoom.scaleBy(a.select(this._host.document.getElementById("canvas")),1.2)}zoomOut(){this._zoom&&this._zoom.scaleBy(a.select(this._host.document.getElementById("canvas")),.8)}resetZoom(){this._zoom&&this._zoom.scaleTo(a.select(this._host.document.getElementById("canvas")),1)}select(e){this.clearSelection();const t=document.getElementById("canvas"),s=l.FindSidebar.selection(e,t);if(s&&s.length>0){const e=this._host.document.getElementById("canvas"),t=e.getBoundingClientRect();let i=0,n=0;for(const e of s){e.classList.add("select"),this._selection.push(e);const t=e.transform.baseVal.consolidate(),s=e.getBBox(),o=t?t.matrix.e:s.x+s.width/2,r=t?t.matrix.f:s.y+s.height/2;i+=o,n+=r}i/=s.length,n/=s.length,this._zoom.transform(a.select(e),a.zoomIdentity.translate(t.width/2-i,t.height/2-n))}}clearSelection(){for(;this._selection.length>0;)this._selection.pop().classList.remove("select")}error(e,t){this._host.error(e,t.toString())}accept(e){return this._modelFactoryService.accept(e)}open(e){return this._timeout(2).then((()=>this._modelFactoryService.open(e).then((e=>this._timeout(20).then((()=>{const t=e.graphs.length>0?e.graphs[0]:null;return this._host.message("opened",{graphs:e.graphs.map((e=>e.name||"")),selected:t&&(t.name||"")}),this._updateGraph(e,t)}))))))}changeGraph(e){this._updateActiveGraph(e)}_updateActiveGraph(e){if(this._model){const t=this._model,s=t.graphs.filter((t=>e==t.name)).shift();s&&(this._host.status("loading"),this._timeout(200).then((()=>this._updateGraph(t,s).catch((e=>{e&&this.error("Graph update failed.",e)})))))}}_updateGraph(e,t){return this._timeout(100).then((()=>t&&t!=this._activeGraph&&t.nodes.length>1400&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?")?null:this.renderGraph(e,t).then((()=>(this._model=e,this._activeGraph=t,this._host.status("rendered"),this._model))).catch((e=>this.renderGraph(this._model,this._activeGraph).then((()=>{throw this._host.status("rendered"),e})).catch((()=>{throw e}))))))}renderGraph(e,t){try{const s=this._host.document.getElementById("canvas");for(;s.lastChild;)s.removeChild(s.lastChild);if(t){this._zoom=null,s.style.position="absolute",s.style.margin="0";const i=t.groups,n={nodesep:25,ranksep:20};this._showHorizontal&&(n.rankdir="LR");const o=new h.graphlib.Graph({compound:i});o.setGraph(n),o.setDefaultEdgeLabel((()=>({})));let r=0;const m={},p={},u={};let g=(new Date).getTime();const _=t.nodes;if(_.length>1500&&(n.ranker="longest-path"),i)for(const e of _)if(e.group){const t=e.group.split("/");for(;t.length>0;){const e=t.join("/");t.pop(),u[e]=t.join("/")}}for(const t of _){const n=new c.NodeElement(this._host.document),a=(t,s,i)=>{const n=t.block("header"),o=["node-item-type"],h=s.metadata,c=h&&h.category?h.category:"";c&&o.push("node-item-type-"+c.toLowerCase());const p=s.type;if("string"!=typeof p||!p.split)throw new d("Unknown node type '"+JSON.stringify(p)+"' in '"+e.format+"'.");const u=this.showNames&&s.name?s.name:p.split(".").pop(),g=this.showNames&&s.name?p:s.name;n.add(null,o,u,g,(()=>{this.showNodeProperties(s)})),s.function&&n.add(null,["node-item-function"],"+",null,(()=>{}));const _=[];let f=!1;if(this._showInitializers)for(const e of s.inputs)e.visible&&1==e.arguments.length&&null!=e.arguments[0].initializer&&_.push(e),(!e.visible||e.arguments.length>1)&&e.arguments.some((e=>null!=e.initializer))&&(f=!0);let y=[];const b=s.attributes;if(this.showAttributes&&b&&(y=b.filter((e=>e.visible)).slice(),y.sort(((e,t)=>{const s=e.name.toUpperCase(),i=t.name.toUpperCase();return s<i?-1:s>i?1:0}))),_.length>0||f||y.length>0){const e=t.block("list");e.handler=()=>{this.showNodeProperties(s)};for(const t of _){const s=t.arguments[0],i=s.type;let n="",o="";i&&i.shape&&i.shape.dimensions&&Object.prototype.hasOwnProperty.call(i.shape.dimensions,"length")&&(n=""+i.shape.dimensions.map((e=>e||"?")).join("")+"",0==i.shape.dimensions.length&&s.initializer&&!s.initializer.state&&(n=s.initializer.toString(),n&&n.length>10&&(n=n.substring(0,10)+""),o=" = ")),e.add("initializer-"+s.name,t.name,n,i?i.toString():"",o)}f&&e.add(null,"","",null,"");for(const t of y)if(t.visible){let s=l.NodeSidebar.formatAttributeValue(t.value,t.type);s&&s.length>25&&(s=s.substring(0,25)+""),e.add(null,t.name,s,t.type," = ")}}if(i){const e=s.inputs;for(const t of e)for(const e of t.arguments)if(""!=e.name&&!e.initializer){let s=m[e.name];s||(s={from:null,to:[]},m[e.name]=s),s.to.push({node:r,name:t.name})}let t=s.outputs;if(s.chain&&s.chain.length>0){const e=s.chain[s.chain.length-1].outputs;e.length>0&&(t=e)}for(const e of t)for(const t of e.arguments)if(""!=t.name){let s=m[t.name];s||(s={from:null,to:[]},m[t.name]=s),s.from={node:r,name:e.name,type:t.type}}}if(s.chain&&s.chain.length>0)for(const e of s.chain)a(t,e,!1);s.inner&&a(t,s.inner,!1)};if(a(n,t,!0),t.controlDependencies&&t.controlDependencies.length>0)for(const e of t.controlDependencies){let t=m[e];t||(t={from:null,to:[]},m[e]=t),t.to.push({node:r,name:e,controlDependency:!0})}const h=t.name;h?o.setNode(r,{label:n.format(s),id:"node-"+h}):(o.setNode(r,{label:n.format(s),id:"node-"+g.toString()}),g++);const _=function(e){if(!p[e]){o.setNode(e,{rx:5,ry:5}),p[e]=!0;const t=u[e];t&&(_(t),o.setParent(e,t))}};if(i){let e=t.group;if(e&&e.length>0){if(!Object.prototype.hasOwnProperty.call(u,e)){const t=e.lastIndexOf("/");-1!=t?(e=e.substring(0,t),Object.prototype.hasOwnProperty.call(u,e)||(e=null)):e=null}e&&(_(e),o.setParent(r,e))}}r++}for(const e of t.inputs){for(const t of e.arguments){let e=m[t.name];e||(e={from:null,to:[]},m[t.name]=e),e.from={node:r,type:t.type}}const t=e.arguments.map((e=>e.type||"")).join("\n");let i=e.name||"";i.length>16&&(i=i.split("/").pop());const n=new c.NodeElement(this._host.document);n.block("header").add(null,["graph-item-input"],i,t,(()=>{this.showModelProperties()})),o.setNode(r++,{label:n.format(s),class:"graph-input"})}for(const e of t.outputs){for(const t of e.arguments){let e=m[t.name];e||(e={from:null,to:[]},m[t.name]=e),e.to.push({node:r})}const t=e.arguments.map((e=>e.type||"")).join("\n");let i=e.name||"";i.length>16&&(i=i.split("/").pop());const n=new c.NodeElement(this._host.document);n.block("header").add(null,["graph-item-output"],i,t,(()=>{this.showModelProperties()})),o.setNode(r++,{label:n.format(s)})}for(const e of Object.keys(m)){const t=m[e];if(null!=t.from)for(const s of t.to){let i="";const n=t.from.type;n&&n.shape&&n.shape.dimensions&&n.shape.dimensions.length>0&&(i=n.shape.dimensions.join("")),this._showNames&&(i=e.split("\n").shift()),s.controlDependency?o.setEdge(t.from.node,s.node,{label:i,id:"edge-"+e,arrowhead:"vee",class:"edge-path-control-dependency"}):o.setEdge(t.from.node,s.node,{label:i,id:"edge-"+e,arrowhead:"vee"})}}const f=this._host.document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("id","background"),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("fill","none"),f.setAttribute("pointer-events","all"),s.appendChild(f);const y=this._host.document.createElementNS("http://www.w3.org/2000/svg","g");y.setAttribute("id","origin"),s.appendChild(y);let b=null;return b=a.select(s),this._zoom=a.zoom(),this._zoom(b),this._zoom.scaleExtent([.1,2]),this._zoom.on("zoom",(()=>{y.setAttribute("transform",a.event.transform.toString())})),this._zoom.transform(b,a.zoomIdentity),this._timeout(20).then((()=>{new c.Renderer(this._host.document,y).render(o);const e=s.getElementsByClassName("graph-input"),t=s.getBoundingClientRect();if(e&&e.length>0){const s=[],i=[];for(let t=0;t<e.length;t++){const n=e[t].transform.baseVal.consolidate().matrix;s.push(n.e),i.push(n.f)}let n=s[0];const o=i[0];i.every((e=>e==i[0]))&&(n=s.reduce(((e,t)=>e+t))/s.length);const r=t.width/(this._showHorizontal?4:2)-n,h=t.height/(this._showHorizontal?2:4)-o;this._zoom.transform(b,a.zoomIdentity.translate(r,h))}else this._zoom.transform(b,a.zoomIdentity.translate((t.width-o.graph().width)/2,(t.height-o.graph().height)/2))}))}return Promise.resolve()}catch(e){return Promise.reject(e)}}applyStyleSheet(e,t){let s=[];for(let e=0;e<this._host.document.styleSheets.length;e++){const i=this._host.document.styleSheets[e];if(i&&i.href&&i.href.endsWith("/"+t)){s=i.cssRules;break}}const i=e.getElementsByTagName("*");for(let e=0;e<i.length;e++){const t=i[e];for(let e=0;e<s.length;e++){const i=s[e];if(t.matches(i.selectorText))for(let e=0;e<i.style.length;e++){const s=i.style.item(e);t.style[s]=i.style[s]}}}}export(e){const t=e.lastIndexOf("."),s=-1!=t?e.substring(t+1):"";if(this._activeGraph&&("png"==s||"svg"==s)){const t=this._host.document.getElementById("canvas"),i=t.cloneNode(!0);this.applyStyleSheet(i,"style.css"),i.setAttribute("id","export"),i.removeAttribute("width"),i.removeAttribute("height"),i.style.removeProperty("opacity"),i.style.removeProperty("display");const n=i.querySelector("#background"),o=i.querySelector("#origin");o.setAttribute("transform","translate(0,0) scale(1)"),n.removeAttribute("width"),n.removeAttribute("height");const r=t.parentElement;r.insertBefore(i,t);const a=i.getBBox();r.removeChild(i),r.removeChild(t),r.appendChild(t);const h=Math.min(a.width,a.height)/2*.1,c=Math.ceil(h+a.width+h),l=Math.ceil(h+a.height+h);o.setAttribute("transform","translate("+h.toString()+", "+h.toString()+") scale(1)"),i.setAttribute("width",c),i.setAttribute("height",l),n.setAttribute("width",c),n.setAttribute("height",l),n.setAttribute("fill","#fff");const m=(new XMLSerializer).serializeToString(i);if("svg"===s){const t=new Blob([m],{type:"image/svg"});this._host.export(e,t)}else if("png"===s){const t=new Image;t.onload=()=>{const s=Math.max(c,l),i=2*s>24e3?24e3/s:2,n=this._host.document.createElement("canvas");n.width=Math.ceil(c*i),n.height=Math.ceil(l*i);const o=n.getContext("2d");o.scale(i,i),o.drawImage(t,0,0),this._host.document.body.removeChild(t),n.toBlob((t=>{if(t)this._host.export(e,t);else{const e=new Error;e.name="Error exporting image.",e.message="Image may be too large to render as PNG.",this._host.exception(e,!1),this._host.error(e.name,e.message)}}),"image/png")},t.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(m))),this._host.document.body.insertBefore(t,this._host.document.body.firstChild)}}}showModelProperties(){if(this._model){const e=new l.ModelSidebar(this._host,this._model,this._activeGraph);this._host.message("show-model-properties",e.render())}}showNodeProperties(e){if(e){const t=new l.NodeSidebar(this._host,e);this._host.message("show-node-properties",{...t.render(),metadata:e.metadata})}}showNodeDocumentation(e){const t=e.metadata;if(t){const e=new l.DocumentationSidebar(this._host,t);this._host.message("show-node-documentation",e.render())}}}};class d extends Error{constructor(e,t){super(e),this.name="Error loading model.",this.telemetry=t}}class p{constructor(e){this._context=e,this._tags=new Map,this._entries=new Map}request(e,t){return this._context.request(e,t)}get identifier(){return this._context.identifier}get buffer(){return this._context.buffer}get text(){return this._text||(this._text=new TextDecoder("utf-8").decode(this.buffer)),this._text}entries(e){let t=this._entries.get(e);if(!t){t=[];try{const s=this.buffer;switch(e){case"zip":s&&s.length>2&&80==s[0]&&75==s[1]&&(t=new i.Archive(s).entries);break;case"tar":if(s.length>=512){let e=0;for(let t=0;t<512;t++)e+=t>=148&&t<156?32:s[t];let i="";for(let e=148;e<156&&0!==s[e];e++)i+=String.fromCharCode(s[e]);i=parseInt(i,8),isNaN(i)||e!=i||(t=new o.Archive(s).entries)}}}catch(e){t=[]}this._entries.set(e,t)}return t}tags(e){let t=this._tags.get(e);if(!t){t=new Map;try{switch(e){case"pbtxt":{const e=this.buffer,s=e.length;if(!(s>=3&&239===e[0]&&187===e[1]&&191===e[2]||s>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||s>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||s>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3]||s>=2&&254===e[0]&&255===e[1]||s>=2&&255===e[0]&&254===e[1])&&e.subarray(0,Math.min(1024,s)).some((e=>e<7||e>14&&e<32)))break;const i=r.TextReader.create(this.text);for(i.start(!1);!i.end(!1);){const e=i.tag();t.set(e,!0),i.skip()}break}case"pb":{const e=new Set([0,1,2,3,5]),s=r.Reader.create(this.buffer),i=s.next();for(;s.pos<i;){const i=s.uint32();if(t.set(i>>>3,7&i),!e.has(7&i)){t=new Map;break}try{s.skipType(7&i)}catch(e){t=new Map;break}}break}}}catch(e){t=new Map}this._tags.set(e,t)}return t}}class u{constructor(e,t,s,i){if(this._entries={},e)for(const i of e)if(i.name.startsWith(t)){const e=i.name.substring(t.length);s.length>0&&s.indexOf("/")<0&&(this._entries[e]=i)}this._identifier=s.substring(t.length),this._buffer=i}request(e,t){const s=this._entries[e];if(!s)return Promise.reject(new Error("File not found."));const i=t?new TextDecoder(t).decode(s.data):s.data;return Promise.resolve(i)}get identifier(){return this._identifier}get buffer(){return this._buffer}}class g extends Error{constructor(e){super(e),this.name="Error loading archive."}}m.ModelFactoryService=class{constructor(e){this._host=e,this._extensions=[],this.register("./onnx",[".onnx",".pb",".pbtxt",".prototxt"]),this.register("./mxnet",[".mar",".model",".json",".params"]),this.register("./keras",[".h5",".hd5",".hdf5",".keras",".json",".model",".pb",".pth"]),this.register("./coreml",[".mlmodel"]),this.register("./caffe",[".caffemodel",".pbtxt",".prototxt",".pt"]),this.register("./caffe2",[".pb",".pbtxt",".prototxt"]),this.register("./pytorch",[".pt",".pth",".pt1",".pkl",".h5",".t7",".model",".dms",".tar",".ckpt",".bin",".pb",".zip"]),this.register("./torch",[".t7"]),this.register("./tflite",[".tflite",".lite",".tfl",".bin",".pb",".tmfile",".h5",".model",".json"]),this.register("./tf",[".pb",".meta",".pbtxt",".prototxt",".json",".index",".ckpt"]),this.register("./mediapipe",[".pbtxt"]),this.register("./uff",[".uff",".pb",".trt",".pbtxt",".uff.txt"]),this.register("./sklearn",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5"]),this.register("./cntk",[".model",".cntk",".cmf",".dnn"]),this.register("./paddle",[".paddle",".pdmodel","__model__"]),this.register("./armnn",[".armnn"]),this.register("./bigdl",[".model",".bigdl"]),this.register("./darknet",[".cfg",".model"]),this.register("./mnn",[".mnn"]),this.register("./ncnn",[".param",".bin",".cfg.ncnn",".weights.ncnn"]),this.register("./tnn",[".tnnproto",".tnnmodel"]),this.register("./tengine",[".tmfile"]),this.register("./barracuda",[".nn"]),this.register("./openvino",[".xml",".bin"]),this.register("./flux",[".bson"]),this.register("./npz",[".npz",".h5",".hd5",".hdf5"]),this.register("./dl4j",[".zip"]),this.register("./mlnet",[".zip"])}register(e,t){for(const s of t)this._extensions.push({extension:s,id:e})}open(e){return this._openSignature(e).then((e=>this._openArchive(e).then((e=>{const t=(e=new p(e)).identifier,s=t.split(".").pop().toLowerCase(),i=this._filter(e);if(0==i.length)throw new d("Unsupported file extension '."+s+"'.");const n=[];let o=!1;const r=()=>{if(i.length>0){const t=i.shift();return this._host.require(t).then((s=>{if(!s.ModelFactory)throw new d("Failed to load module '"+t+"'.");const i=new s.ModelFactory;return i.match(e)?(o++,i.open(e,this._host).then((e=>e)).catch((e=>(n.push(e),r())))):r()}))}{if(o){if(1==n.length)throw n[0];throw new d(n.map((e=>e.message)).join("\n"))}const i=new Set(["natives_blob.bin","v8_context_snapshot.bin","snapshot_blob.bin","image_net_labels.json","package.json","models.json","LICENSE.meta","input_0.pb","output_0.pb"]).has(t),r=e.buffer,a=Array.from(r.subarray(0,Math.min(16,r.length))).map((e=>(e<16?"0":"")+e.toString(16))).join("");throw new d("Unsupported file content ("+a+") for extension '."+s+"' in '"+t+"'.",!i)}};return r()}))))}_openArchive(e){let t,s=null,r=e.identifier,a=e.buffer;try{if(t=r.split(".").pop().toLowerCase(),("gz"==t||"tgz"==t)&&(s=new n.Archive(a),1==s.entries.length)){const e=s.entries[0];e.name?r=e.name:(r=r.substring(0,r.lastIndexOf(".")),"tgz"==t&&(r+=".tar")),a=e.data}}catch(e){const t=e&&e.message?e.message:e.toString();return Promise.reject(new g(t.replace(/\.$/,"")+" in '"+r+"'."))}try{switch(t=r.split(".").pop().toLowerCase(),t){case"tar":{const e=[138,10,108,252,156,70,249,32,106,168,80,25];(!a||a.length<14||128!=a[0]||!e.every(((e,t)=>e==a[t+2])))&&(s=new o.Archive(a));break}case"zip":if(s=new i.Archive(a),s.entries.some((e=>"version"===e.name.split("/").pop().split("\\").pop()))&&s.entries.some((e=>"data.pkl"===e.name.split("/").pop().split("\\").pop())))return Promise.resolve(e);if(s.entries.some((e=>"coefficients.bin"===e.name.split("/").pop().split("\\").pop()))&&s.entries.some((e=>"configuration.json"===e.name.split("/").pop().split("\\").pop())))return Promise.resolve(e)}}catch(e){const t=e&&e.message?e.message:e.toString();return Promise.reject(new g(t.replace(/\.$/,"")+" in '"+r+"'."))}if(!s)return Promise.resolve(e);try{const i={};for(const e of s.entries)-1!=e.name.indexOf("/")?i[e.name.split("/").shift()+"/"]=!0:i["/"]=!0;"tar"==t&&delete i["PaxHeader/"];let n=1==Object.keys(i).length?Object.keys(i)[0]:"";n="/"==n?"":n;let o=[];const r=s.entries.slice(),a=()=>{if(r.length>0){const e=r.shift();if(e.name.startsWith(n)){const t=e.name.substring(n.length);if(t.length>0&&t.indexOf("/")<0&&!t.startsWith(".")){const t=new p(new u(null,n,e.name,e.data));let s=this._filter(t);const i=()=>{if(s.length>0){const n=s.shift();return this._host.require(n).then((r=>{if(!r.ModelFactory)throw new g("Failed to load module '"+n+"'.",null);return(new r.ModelFactory).match(t)&&(o.push(e),s=[]),i()}))}return a()};return i()}}return a()}{if(0==o.length)return Promise.resolve(e);if(2==o.length&&o.some((e=>e.name.endsWith(".params")))&&o.some((e=>e.name.endsWith("-symbol.json")))&&(o=o.filter((e=>e.name.endsWith(".params")))),o.length>1)return Promise.reject(new g("Archive contains multiple model files."));const t=o[0];return Promise.resolve(new p(new u(s.entries,n,t.name,t.data)))}};return a()}catch(e){return Promise.reject(new g(e.message))}}accept(e){e=e.toLowerCase();for(const t of this._extensions)if(e.endsWith(t.extension))return!0;return!!(e.endsWith(".zip")||e.endsWith(".tar")||e.endsWith(".tar.gz")||e.endsWith(".tgz"))}_filter(e){const t=e.identifier.toLowerCase(),s=this._extensions.filter((e=>t.endsWith(e.extension))).map((e=>e.id));return Array.from(new Set(s))}_openSignature(e){const t=e.buffer;if(0===e.buffer.length)return Promise.reject(new d("File has no content.",!0));const s=[{name:"ELF executable",value:/^\x7FELF/},{name:"Git LFS header",value:/^version https:\/\/git-lfs.github.com\/spec\/v1\n/},{name:"Git LFS header",value:/^oid sha256:/},{name:"HTML markup",value:/^\s*<html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE HTML>/},{name:"Unity metadata",value:/^fileFormatVersion:/},{name:"Vulkan SwiftShader ICD manifest",value:/^{\s*"file_format_version":\s*"1.0.0"\s*,\s*"ICD":/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*id:/},{name:"StringIntLabelMapProto data",value:/^item\s*{\r?\n\s*name:/},{name:"Python source code",value:/^\s*import sys, types, os;/}],i=(new TextDecoder).decode(t.subarray(0,Math.min(1024,t.length)));for(const e of s)if(i.match(e.value))return Promise.reject(new d("Invalid file content. File contains "+e.name+".",!0));return Promise.resolve(e)}},"object"==typeof e.exports&&(e.exports.View=m.View,e.exports.ModelFactoryService=m.ModelFactoryService)},83260:()=>{}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,e=[],i.O=(t,s,n,o)=>{if(!s){var r=1/0;for(l=0;l<e.length;l++){for(var[s,n,o]=e[l],a=!0,h=0;h<s.length;h++)(!1&o||r>=o)&&Object.keys(i.O).every((e=>i.O[e](s[h])))?s.splice(h--,1):(a=!1,o<r&&(r=o));if(a){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,n,o]},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=826,(()=>{var e={826:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var n,o,[r,a,h]=s,c=0;if(r.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(h)var l=h(i)}for(t&&t(s);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[r[c]]=0;return i.O(l)},s=globalThis.webpackChunk_visualdl_netron=globalThis.webpackChunk_visualdl_netron||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=i.O(void 0,[216],(()=>i(68138)));n=i.O(n)})();